!function(t){var e={};function i(b){if(e[b])return e[b].exports;var a=e[b]={i:b,l:!1,exports:{}};return t[b].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,b){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:b})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var b=Object.create(null);if(i.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(b,a,function(e){return t[e]}.bind(null,a));return b},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=3)}([function(t,e,i){"use strict";window.bt_bb_parse_data=function(t){window.bt_bb_parse_data_str="",t.children.length>0&&(window.bt_bb_parse_data_helper(t),window.bt_bb.fe||(window.switchEditors.go("content","tmce"),tinyMCE.get("content").setContent(window.switchEditors.wpautop(window.bt_bb_parse_data_str))))},window.bt_bb_parse_data_helper=function(t){"_root"==t.title&&(t=t.children);for(var e=0;e<t.length;e++){var i=!1;if("_content"==t[e].title&&(i=!0),i)window.bt_bb_parse_data_str+=t[e].content;else{if(window.bt_bb_parse_data_str+="["+t[e].base,void 0!==t[e].attr&&t[e].attr.startsWith("{"))for(var b=attr_to_arr(t[e].attr),a=0;a<b.length;a++)window.bt_bb_parse_data_str+=" "+b[a][0]+'="'+b[a][1]+'"';window.bt_bb_parse_data_str+="]"}void 0!==t[e].children&&bt_bb_parse_data_helper(t[e].children),i||(window.bt_bb_parse_data_str+="[/"+t[e].base+"]")}},window.bt_bb_get_edit_item_value=function(t,e,i){const b=jQuery;var a;if("textfield"==e||"datetime-local"==e||"colorpicker"==e||"link"==e)a=window.bt_bb_special_char_encode(i.find("input").val());else if("checkbox"==e)a=i.find("input").prop("checked")?i.find("input").val():"";else if("checkbox_group"==e){var n=[];i.find("input").each(function(){b(this).prop("checked")&&n.push(b(this).val())}),a=n.join(" ")}else if("textarea"==e)a=window.bt_bb_special_char_encode(i.find("textarea").val());else if("textarea_object"==e)try{a=window.bt_bb_b64EncodeUnicode(i.find("textarea").val())}catch(t){a=i.find("textarea").val()}else if("dropdown"==e)if(i.hasClass("bt_bb_dialog_item_responsive_override")){var o=[];i.find("select :selected").each(function(){o.push(b(this).val())}),a=o.join("%$%")}else a=i.find("select :selected").val();else"iconpicker"==e?a=i.find(".bt_bb_iconpicker_select .bt_bb_icon_preview").data("icon"):void 0!==window["bt_bb_cf_"+e+"_on_submit"]&&(a=window["bt_bb_cf_"+e+"_on_submit"](i));return a},window.bt_bb_iconpicker=function(t,e){t=window.bt_bb_icons;var i,b='<div class="bt_bb_iconpicker">',a=Object.keys(t);b+='<div class="bt_bb_iconpicker_select">';for(var n=e.slice(0,-5),o=e.substr(-4),_="",r=0;r<a.length;r++){i=Object.keys(t[a[r]]);for(var s=0;s<i.length;s++)e==t[a[r]][i[s]]&&(_=i[s])}""!=o&&(o="&#x"+o),window.bt_bb.fe?b+='<div class="bt_bb_icon_preview bt_bb_icon_preview_'+n+'" style="font-family:\''+n+'\';" data-icon="'+e+'" data-icon-code="'+o+'"></div>':b+='<div class="bt_bb_icon_preview bt_bb_icon_preview_'+n+'" data-icon="'+e+'" data-icon-code="'+o+'"></div>',b+='<div class="bt_bb_iconpicker_select_text">'+_+"</div>",b+='<i class="fa fa-close bt_bb_iconpicker_clear" style="display:'+(""!=_?"block":"none")+'"></i>',b+='<i class="fa fa-angle-down"></i>',b+="</div>",b+='<div class="bt_bb_iconpicker_filter_container">',b+='<input type="text" class="bt_bb_filter" placeholder="'+window.bt_bb_text.filter+'">',b+="</div>",b+='<div class="bt_bb_iconpicker_icons">';for(var d=0;d<a.length;d++){b+='<div class="bt_bb_iconpicker_title" data-icon-set="'+a[d].toLowerCase()+'">'+a[d]+"</div>",i=Object.keys(t[a[d]]);for(var l=0;l<i.length;l++){n=(e=t[a[d]][i[l]]).slice(0,-5),o=e.substr(-4);window.bt_bb.fe?b+='<div class="bt_bb_icon_preview bt_bb_icon_preview_'+n+'" style="font-family:\''+n+'\';" data-icon="'+e+'" data-icon-code="&#x'+o+'" data-icon-set="'+n+'" title="'+i[l]+'"></div>':b+='<div class="bt_bb_icon_preview bt_bb_icon_preview_'+n+'" data-icon="'+e+'" data-icon-code="&#x'+o+'" data-icon-set="'+n+'" title="'+i[l]+'"></div>'}}return b+="</div>",b+="</div>"},window.bt_bb_iconpicker_init=function(t){const e=jQuery;var i=function(t){e(this).next().toggle(),e(this).next().next().toggle()},b=function(i){var b=e(this).closest(".bt_bb_iconpicker").find(".bt_bb_iconpicker_select .bt_bb_icon_preview"),a=e(this).data("icon");b.attr("data-icon",a),b.attr("data-icon-code",e(this).data("icon-code")),b.removeClass(),b.addClass(e(this).attr("class")),"widgets"==t&&(e(this).closest(".bt_bb_iconpicker_widget_container").find("input").val(e(this).data("icon")),e(this).closest(".bt_bb_iconpicker_widget_container").find("input").trigger("change")),window.bt_bb.fe&&b.css("font-family",e(this).css("font-family")),e(this).closest(".bt_bb_iconpicker").find(".bt_bb_iconpicker_select .bt_bb_iconpicker_select_text").html(e(this).attr("title")),e(this).closest(".bt_bb_iconpicker").find(".bt_bb_iconpicker_clear").show(),e(this).parent().hide(),e(this).parent().prev().find("input").val("").trigger("keyup"),e(this).parent().prev().hide(),window.bt_bb.fe&&t(b)},a=function(i){i.stopPropagation();var b=e(this).closest(".bt_bb_iconpicker").find(".bt_bb_iconpicker_select .bt_bb_icon_preview");b.attr("data-icon",""),b.attr("data-icon-code",""),b.parent().find(".bt_bb_iconpicker_select_text").html(""),e(this).closest(".bt_bb_iconpicker").find("input").val(""),"widgets"==t&&(e(this).closest(".bt_bb_iconpicker_widget_container").find("input").val(""),e(this).closest(".bt_bb_iconpicker_widget_container").find("input").trigger("change")),e(this).parent().next().find("input").val("").trigger("keyup"),e(this).parent().next().hide(),e(this).parent().next().next().hide(),e(this).hide(),window.bt_bb.fe&&t(b)},n=function(t){var i=e(this).val(),b=e(this).closest(".bt_bb_iconpicker"),a=[];b.find(".bt_bb_iconpicker_icons .bt_bb_icon_preview").each(function(){var t=e(this).attr("title"),n=new RegExp(i,"i");b.find(".bt_bb_iconpicker_title").hide(),n.test(t)?(a.push(e(this).data("icon-set")),e(this).show()):e(this).hide()});for(const t in a)b.find('.bt_bb_iconpicker_title[data-icon-set="'+a[t]+'"]').show(),"fa"==a[t]&&b.find('.bt_bb_iconpicker_title[data-icon-set="font awesome"]').show()};window.bt_bb.fe?e(bt_bb_fe_dialog_content.shadowRoot.querySelectorAll(".bt_bb_iconpicker_select")).on("click",i):"widgets"==t?e("body").on("click",".bt_bb_iconpicker_widget_container .bt_bb_iconpicker_select",i):e(".bt_bb_iconpicker_select").on("click",i),window.bt_bb.fe?e(bt_bb_fe_dialog_content.shadowRoot.querySelectorAll(".bt_bb_iconpicker_icons .bt_bb_icon_preview")).on("click",b):"widgets"==t?e("body").on("click",".bt_bb_iconpicker_widget_container .bt_bb_icon_preview",b):e(".bt_bb_iconpicker_icons .bt_bb_icon_preview").on("click",b),window.bt_bb.fe?e(bt_bb_fe_dialog_content.shadowRoot.querySelectorAll(".bt_bb_iconpicker .bt_bb_iconpicker_clear")).on("click",a):"widgets"==t?e("body").on("click",".bt_bb_iconpicker_widget_container .bt_bb_iconpicker_clear",a):e(".bt_bb_iconpicker .bt_bb_iconpicker_clear").on("click",a),window.bt_bb.fe?e(bt_bb_fe_dialog_content.shadowRoot.querySelectorAll(".bt_bb_iconpicker .bt_bb_filter")).on("keyup",n):"widgets"==t?e("body").on("keyup",".bt_bb_iconpicker_widget_container .bt_bb_filter",n):e(".bt_bb_iconpicker .bt_bb_filter").on("keyup",n)},window.bt_bb_image_sortable=function(t,e){if(!t.length)return;const i=jQuery;new window.bt_bb_sortable.Sortable(t[0],{animation:150,onSort:function(t){var b=i(t.item).closest(".bt_bb_dialog_item"),a=b.data("param_name"),n="";b.find(".bt_bb_sortable_item").each(function(){n+=i(this).data("id")+","}),n=n.slice(0,-1),e[a]=n,window.bt_bb.fe&&(window.bt_bb.editing_elements.data("bt-bb-fe-atts",e),window.bt_bb.editing_elements_atts=e,window.bt_bb_fe_ajax_preview([]))}})},window.bt_bb_delete_images=function(t,e){const i=jQuery;var b=i(t).closest(".bt_bb_dialog_item").data("param_name"),a=i(t).closest(".bt_bb_dialog_image_container");i(t).parent().remove();var n="";a.find(".bt_bb_sortable_item").each(function(){n+=i(this).data("id")+","}),n=n.slice(0,-1),e[b]=n},window.bt_bb_select_images=function(t,e,i){const b=jQuery;var a=window.bt_bb_get_key(),n=b(t).closest(".bt_bb_dialog_item"),o=n.find(".bt_bb_dialog_image_container"),r=n.data("param_name"),s="add";"attach_image"==n.data("type")&&(s=!1);var d=wp.media.controller.Library.extend({defaults:_.defaults({id:a,title:window.bt_bb_text.select_images,allowLocalEdits:!1,displaySettings:!1,displayUserSettings:!1,multiple:s,type:"image"},wp.media.controller.Library.prototype.defaults)}),l=wp.media({button:{text:window.bt_bb_text.select},state:a,states:[new d]});l.on("select",function(){var t=l.state(a).get("selection"),n="",_="";t.each(function(t){if(void 0!==t.attributes.sizes){var e="";e=void 0!==t.attributes.sizes.thumbnail?t.attributes.sizes.thumbnail.url:t.attributes.sizes.full.url,_+=t.id+",",window.bt_bb.cache[t.id]={},window.bt_bb.cache[t.id].url=e,window.bt_bb.cache[t.id].title=t.attributes.title,n+='<div class="bt_bb_sortable_item" data-id="'+t.id+'" style="background-image:url(\''+e+'\');background-size:cover;"><i class="fa fa-times"></i></div>',o.html(n)}}),""!=(_=_.slice(0,-1))&&(e[r]=_,window.bt_bb.fe&&(i(t),b("body").addClass("bt_bb_fe_save_on")))}),l.on("open",function(){var t=l.state(a).get("selection");o.find(".bt_bb_sortable_item").each(function(){var e=wp.media.attachment(b(this).data("id"));t.add(e)})}),l.open()},window.bt_bb_search_link_init=function(){const t=jQuery;var e=function(e,i,b){i.find(".spinner").show(),i.find(".spinner").css("visibility","visible");var a={action:"bt_bb_search_links",search:e,page:b};t.ajax({type:"POST",url:window.bt_bb_ajax_url,data:a,async:!0,success:function(t){var e=JSON.parse(t);e.length<20&&i.data("thats_all",!0);var a=i.find(".bt_bb_search_link_results");1==b&&(a.empty(),a[0].scrollTo(0,0)),e.forEach(function(t,e){var i=t.permalink;1==window.bt_bb_settings.slug_url&&(i=t.slug),a.append('<div data-link="'+i+'" title="'+i+'">'+t.title+"<span>"+t.info+"</span></div>")}),i.find(".spinner").hide(),i.data("page",b)}})};if(window.bt_bb.fe)var i=t(bt_bb_fe_dialog_content.shadowRoot.querySelectorAll('div[data-type="link"]'));else i=t('div[data-type="link"]');i.each(function(){var i=t(this);e("",i,1),t(this).find(".bt_bb_search_link").on("input",function(t){var b=(new Date).getTime();void 0!==i.data("last_input_time")&&b-i.data("last_input_time")<500||(i.data("thats_all",!1),setTimeout(function(){e(i.find(".bt_bb_search_link").val(),i,1)},500),i.data("last_input_time",(new Date).getTime()))}),t(this).find(".bt_bb_search_link").on("focus",function(t){i.find(".bt_bb_search_link_results").show()}),t(this).find(".bt_bb_search_link").on("blur",function(t){setTimeout(function(){i.find(".bt_bb_search_link_results").hide()},200)}),t(this).on("click",".bt_bb_search_link_results div",function(){i.find('input[type="text"]').val(t(this).data("link")),window.bt_bb.fe&&i.find('input[type="text"]').trigger("input")}),t(this).find(".bt_bb_search_link_results").on("scroll",function(b){var a=(new Date).getTime();void 0!==i.data("last_scroll_time")&&a-i.data("last_scroll_time")<500||this.scrollTop>.8*(this.scrollHeight-this.clientHeight)&&!i.data("thats_all")&&(e(t(this).val(),i,i.data("page")+1),i.data("last_scroll_time",(new Date).getTime()))})})},window.bt_bb_special_char_encode=function(t){for(var e,i=/([\s\S]*?<[a-zA-Z]+?)(\s[^<]*?)(>[\s\S]*)/;null!==(e=i.exec(t));)t=t.replace(i,"$1$3");i=/<\/\s*([a-zA-Z]+)\s*>/g,t=t.replace(i,"</$1>");var b=["address","b","big","cite","code","del","em","i","ins","pre","small","strong","sub","sup","s","u","ul","ol","li"];for(i=/<\/?([a-zA-Z]+)?>/g;null!==(e=i.exec(t));)b.includes(e[1])||(t=t.replace(e[0],""));for(i=/<([a-zA-Z]+)?>/g;null!==(e=i.exec(t));)-1==t.indexOf("</"+e[1]+">")&&(t=t.replace(e[0],""));for(i=/<\/?([a-zA-Z]+)?>/g;null!==(e=i.exec(t));)-1==t.indexOf("<"+e[1]+">")&&(t=t.replace(e[0],""));for(i=/<([a-zA-Z]+)?>/g;null!==(e=i.exec(t));){var a=t.lastIndexOf("<"+e[1]+">");if(a>t.lastIndexOf("</"+e[1]+">")){var n=t.substring(0,a),o=t.substring(a+2+e[1].length);t=n+o}}i=/<([a-zA-Z]+)?>/g;for(var _=Array();null!==(e=i.exec(t));)_.push(e[1]);i=/<([a-zA-Z]+)?>/g;for(var r=Array();null!==(e=i.exec(t));)r.push(e[1]);_.forEach(function(e){if((t.match(new RegExp("<"+e+">","g"))||[]).length>(t.match(new RegExp("</"+e+">","g"))||[]).length){var i=t.indexOf("<"+e+">"),b=t.substring(0,i),a=t.substring(i+2+e.length);t=b+a}}),r.forEach(function(e){if((t.match(new RegExp("<"+e+">","g"))||[]).length<(t.match(new RegExp("</"+e+">","g"))||[]).length){var i=t.indexOf("</"+e+">"),b=t.substring(0,i),a=t.substring(i+3+e.length);t=b+a}});var s=t.replace(/"/gim,"``");return s=(s=s.replace(/\[/gim,"`{`")).replace(/\]/gim,"`}`")},window.bt_bb_special_char_decode=function(t){var e=t.replace(/``/gim,"&quot;");return e=(e=e.replace(/`{`/gim,"[")).replace(/`}`/gim,"]")},window.bt_bb_json_encode=function(t){var e=/[\b\t\n\f\r\\\"\/\u00A1-\uFFFF]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","/":"\\/"};return e.lastIndex=0,e.test(t)?'"'+t.replace(e,function(t){var e=i[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'},String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.lastIndexOf(t,e)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var i=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>i.length)&&(e=i.length),e-=t.length;var b=i.indexOf(t,e);return-1!==b&&b===e}),window.bt_bb_create_dom_element=function(t,e){for(var i,b=document.createElement(t),a=0;a<e.length;a++)(i=document.createAttribute(e[a][0])).value=e[a][1],b.setAttributeNode(i);return b},window.attr_to_arr=function(t){var e=JSON.parse(t),i=[];for(var b in e)i.push([b,e[b]]);return i},window.attr_to_obj=function(t){return JSON.parse(t)},window.bt_bb_sortable_background=function(t){const e=jQuery;void 0===window.bt_bb.cache[t]?wp.media.attachment(t).fetch().done(function(t){var i="";i=void 0!==t.sizes.thumbnail?t.sizes.thumbnail.url:t.sizes.full.url,window.bt_bb.fe?(e(bt_bb_fe_dialog_content.shadowRoot).find('.bt_bb_sortable_item[data-id="'+t.id+'"]').css("background-image",'url("'+i+'")'),e(bt_bb_fe_dialog_content.shadowRoot).find('.bt_bb_sortable_item[data-id="'+t.id+'"]').css("background-size","cover")):(e('.bt_bb_sortable_item[data-id="'+t.id+'"]').css("background-image",'url("'+i+'")'),e('.bt_bb_sortable_item[data-id="'+t.id+'"]').css("background-size","cover")),window.bt_bb.cache[t.id]={},window.bt_bb.cache[t.id].url=i,window.bt_bb.cache[t.id].title=t.title}):window.bt_bb.fe?(e(bt_bb_fe_dialog_content.shadowRoot).find('.bt_bb_sortable_item[data-id="'+t+'"]').css("background-image",'url("'+window.bt_bb.cache[t].url+'")'),e(bt_bb_fe_dialog_content.shadowRoot).find('.bt_bb_sortable_item[data-id="'+t+'"]').css("background-size","cover")):(e('.bt_bb_sortable_item[data-id="'+t+'"]').css("background-image",'url("'+window.bt_bb.cache[t].url+'")'),e('.bt_bb_sortable_item[data-id="'+t+'"]').css("background-size","cover"))},window.bt_bb_get_key=function(){var t="bt_bb_"+Math.random().toString();return t=t.replace(".","")},window.bt_bb_b64EncodeUnicode=function(t){return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode(parseInt(e,16))}))},window.bt_bb_b64DecodeUnicode=function(t){return decodeURIComponent(Array.prototype.map.call(atob(t),function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""))}},function(t,e,i){"use strict";var b;b=jQuery,window.bt_bb_dialog_param={attach_image:function(t){var e=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item"+t.group_class],["data-param_name",t.param.param_name],["data-type",t.param.type]]),i="";i+="<b>"+t.param.heading+"</b>",i+='<div class="bt_bb_dialog_image_container">';var b=t.attr_value.split(",");if(""!=b[0])for(var a=0;a<b.length;a++)i+='<div class="bt_bb_sortable_item" data-id="'+b[a]+'"><i class="fa fa-times"></i></div>',setTimeout(window.bt_bb_sortable_background,100,b[a]);return i+="</div>",i+='<div class="bt_bb_dialog_inline_buttons bt_bb_left">',i+='<input type="button" class="bt_bb_dialog_select_images_button button button-small" value="'+window.bt_bb_text.select+'">',i+="</div>",e.innerHTML=i,e},textfield:function(t){var e=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item"+t.group_class],["data-param_name",t.param.param_name],["data-type",t.param.type]]),i="";return""==t.attr_value?void 0!==t.param.value&&(i=t.param.value,i=bt_bb_special_char_decode(i)):i=bt_bb_special_char_decode(t.attr_value),e.innerHTML="<b>"+t.param.heading+'</b><input type="text" value="'+i+'">',e},datetime_local:function(t){var e=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item"+t.group_class],["data-param_name",t.param.param_name],["data-type",t.param.type]]),i="";return""==t.attr_value?void 0!==t.param.value&&(i=t.param.value,i=bt_bb_special_char_decode(i)):i=bt_bb_special_char_decode(t.attr_value),e.innerHTML="<b>"+t.param.heading+'</b><input type="datetime-local" value="'+i+'">',e},textarea:function(t){var e=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item"+t.group_class],["data-param_name",t.param.param_name],["data-type",t.param.type]]);return e.innerHTML="<b>"+t.param.heading+'</b><textarea rows="5">'+bt_bb_special_char_decode(t.attr_value)+"</textarea>",e},textarea_object:function(t){var e=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item"+t.group_class],["data-param_name",t.param.param_name],["data-type",t.param.type]]);try{e.innerHTML="<b>"+t.param.heading+'</b><textarea rows="5">'+window.bt_bb_b64DecodeUnicode(t.attr_value)+"</textarea>"}catch(i){e.innerHTML="<b>"+t.param.heading+'</b><textarea rows="5">'+t.attr_value+"</textarea>"}return e},dropdown:function(t){var e=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item"+t.group_class],["data-param_name",t.param.param_name],["data-type",t.param.type]]);t.param.responsive_override&&b(e).addClass("bt_bb_dialog_item_responsive_override");var i="";i+="<b>"+t.param.heading+"</b>";var a=function(e,i){var b="<select>";i&&(b+='<option value="">---</option>');for(var a=t.param.value,n=Object.keys(a),o=!1,_=0;_<n.length;_++)if(e==a[n[_]]){o=!0;break}for(_=0;_<n.length;_++)o&&e==a[n[_]]||!o&&a[n[_]]==t.param.default&&!i?b+='<option value="'+a[n[_]]+'" selected>'+n[_]+"</option>":b+='<option value="'+a[n[_]]+'">'+n[_]+"</option>";return b+="</select>"},n=t.attr_value.split("%$%");return 5!=n.length&&(n=[n[0],"","","",""]),i+=a(n[0]),i+='<div class="bt_bb_responsive_override_container">',t.param.responsive_override&&(i+='<div class="bt_bb_responsive_override"><span class="bt_bb_ro bt_bb_ro_lg"></span>',i+=a(n[1],!0),i+="</div>",i+='<div class="bt_bb_responsive_override"><span class="bt_bb_ro bt_bb_ro_md"></span>',i+=a(n[2],!0),i+="</div>",i+='<div class="bt_bb_responsive_override"><span class="bt_bb_ro bt_bb_ro_sm"></span>',i+=a(n[3],!0),i+="</div>",i+='<div class="bt_bb_responsive_override"><span class="bt_bb_ro bt_bb_ro_xs"></span>',i+=a(n[4],!0),i+="</div>"),i+="</div>",e.innerHTML=i,e},iconpicker:function(t){var e=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item"+t.group_class],["data-param_name",t.param.param_name],["data-type",t.param.type]]),i="";return i+="<b>"+t.param.heading+"</b>",i+=window.bt_bb_iconpicker(t.param.value,t.attr_value),e.innerHTML=i,e},colorpicker:function(t){var e=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item bt_bb_colorpicker"+t.group_class],["data-param_name",t.param.param_name],["data-type",t.param.type]]),i="";return i+="<b>"+t.param.heading+"</b>",i+='<input type="text" class="bt_bb_color_picker" value="'+bt_bb_special_char_decode(t.attr_value)+'" data-alpha-enabled="true">',e.innerHTML=i,e},link:function(t){var e=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item"+t.group_class],["data-param_name",t.param.param_name],["data-type",t.param.type]]),i="";return""==t.attr_value?void 0!==t.param.value&&(i=t.param.value,i=bt_bb_special_char_decode(i)):i=bt_bb_special_char_decode(t.attr_value),e.innerHTML="<b>"+t.param.heading+'</b><input type="text" value="'+i+'">',e.innerHTML+='<input type="search" placeholder="'+window.bt_bb_text.search_content+'" class="bt_bb_search_link"><span class="spinner"></span>',e.innerHTML+='<div class="bt_bb_search_link_results" data-empty-text="'+window.bt_bb_text.no_results+'"></div>',e},checkbox:function(t){var e=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item"+t.group_class],["data-param_name",t.param.param_name],["data-type",t.param.type]]),i="";i+="<b>"+t.param.heading+"</b>";var b=t.param.value,a=Object.keys(b),n="";return t.attr_value==b[a[0]]&&(n=" checked"),i+='<label for="bt_'+t.base+"_"+t.param.param_name+'"><input id="bt_'+t.base+"_"+t.param.param_name+'" type="checkbox" value="'+b[a[0]]+'"'+n+"><span>"+a[0]+"</span></label>",e.innerHTML=i,e},checkbox_group:function(t){var e=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item"+t.group_class],["data-param_name",t.param.param_name],["data-type",t.param.type]]),i="";i+="<b>"+t.param.heading+"</b>";for(var a=t.param.value,n=Object.keys(a),o=t.attr_value.split(" "),_=0;_<n.length;_++){var r="";-1!=b.inArray(a[n[_]],o)&&(r=" checked"),i+='<label for="'+t.base+"_"+t.param.param_name+_+'"><input id="'+t.base+"_"+t.param.param_name+_+'" type="checkbox" value="'+a[n[_]]+'"'+r+"><span>"+n[_]+"</span></label>"}return e.innerHTML=i,e}},window.bt_bb_dialog_param.attach_images=window.bt_bb_dialog_param.attach_image,window.bt_bb_dialog_param.dropdown_color=window.bt_bb_dialog_param.dropdown,window.bt_bb_get_dialog_param=function(t){var e=window.bt_bb_dialog_param[t.param.type.replaceAll("-","_")](t);if(void 0!==t.param.description){var i=bt_bb_create_dom_element("i",[]);i.innerHTML=t.param.description,e.appendChild(i)}return e}},function(t,e,i){"use strict";
/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function b(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(t);e&&(b=b.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,b)}return i}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?b(Object(i),!0).forEach(function(e){o(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _(){return(_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var b in i)Object.prototype.hasOwnProperty.call(i,b)&&(t[b]=i[b])}return t}).apply(this,arguments)}function r(t,e){if(null==t)return{};var i,b,a=function(t,e){if(null==t)return{};var i,b,a={},n=Object.keys(t);for(b=0;b<n.length;b++)i=n[b],e.indexOf(i)>=0||(a[i]=t[i]);return a}(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(b=0;b<n.length;b++)i=n[b],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(a[i]=t[i])}return a}function s(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return d(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,b=new Array(e);i<e;i++)b[i]=t[i];return b}i.r(e),i.d(e,"MultiDrag",function(){return ke}),i.d(e,"Sortable",function(){return Bt}),i.d(e,"Swap",function(){return le});function l(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var c=l(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),p=l(/Edge/i),u=l(/firefox/i),w=l(/safari/i)&&!l(/chrome/i)&&!l(/android/i),h=l(/iP(ad|od|hone)/i),m=l(/chrome/i)&&l(/android/i),f={capture:!1,passive:!1};function v(t,e,i){t.addEventListener(e,i,!c&&f)}function g(t,e,i){t.removeEventListener(e,i,!c&&f)}function y(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function k(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function x(t,e,i,b){if(t){i=i||document;do{if(null!=e&&(">"===e[0]?t.parentNode===i&&y(t,e):y(t,e))||b&&t===i)return t;if(t===i)break}while(t=k(t))}return null}var C,E=/\s+/g;function S(t,e,i){if(t&&e)if(t.classList)t.classList[i?"add":"remove"](e);else{var b=(" "+t.className+" ").replace(E," ").replace(" "+e+" "," ");t.className=(b+(i?" "+e:"")).replace(E," ")}}function D(t,e,i){var b=t&&t.style;if(b){if(void 0===i)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),void 0===e?i:i[e];e in b||-1!==e.indexOf("webkit")||(e="-webkit-"+e),b[e]=i+("string"==typeof i?"":"px")}}function O(t,e){var i="";if("string"==typeof t)i=t;else do{var b=D(t,"transform");b&&"none"!==b&&(i=b+" "+i)}while(!e&&(t=t.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(i)}function N(t,e,i){if(t){var b=t.getElementsByTagName(e),a=0,n=b.length;if(i)for(;a<n;a++)i(b[a],a);return b}return[]}function T(){var t=document.scrollingElement;return t||document.documentElement}function M(t,e,i,b,a){if(t.getBoundingClientRect||t===window){var n,o,_,r,s,d,l;if(t!==window&&t.parentNode&&t!==T()?(o=(n=t.getBoundingClientRect()).top,_=n.left,r=n.bottom,s=n.right,d=n.height,l=n.width):(o=0,_=0,r=window.innerHeight,s=window.innerWidth,d=window.innerHeight,l=window.innerWidth),(e||i)&&t!==window&&(a=a||t.parentNode,!c))do{if(a&&a.getBoundingClientRect&&("none"!==D(a,"transform")||i&&"static"!==D(a,"position"))){var p=a.getBoundingClientRect();o-=p.top+parseInt(D(a,"border-top-width")),_-=p.left+parseInt(D(a,"border-left-width")),r=o+n.height,s=_+n.width;break}}while(a=a.parentNode);if(b&&t!==window){var u=O(a||t),w=u&&u.a,h=u&&u.d;u&&(r=(o/=h)+(d/=h),s=(_/=w)+(l/=w))}return{top:o,left:_,bottom:r,right:s,width:l,height:d}}}function I(t,e,i){for(var b=P(t,!0),a=M(t)[e];b;){var n=M(b)[i];if(!("top"===i||"left"===i?a>=n:a<=n))return b;if(b===T())break;b=P(b,!1)}return!1}function j(t,e,i,b){for(var a=0,n=0,o=t.children;n<o.length;){if("none"!==o[n].style.display&&o[n]!==Bt.ghost&&(b||o[n]!==Bt.dragged)&&x(o[n],i.draggable,t,!1)){if(a===e)return o[n];a++}n++}return null}function A(t,e){for(var i=t.lastElementChild;i&&(i===Bt.ghost||"none"===D(i,"display")||e&&!y(i,e));)i=i.previousElementSibling;return i||null}function z(t,e){var i=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===Bt.clone||e&&!y(t,e)||i++;return i}function R(t){var e=0,i=0,b=T();if(t)do{var a=O(t),n=a.a,o=a.d;e+=t.scrollLeft*n,i+=t.scrollTop*o}while(t!==b&&(t=t.parentNode));return[e,i]}function P(t,e){if(!t||!t.getBoundingClientRect)return T();var i=t,b=!1;do{if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var a=D(i);if(i.clientWidth<i.scrollWidth&&("auto"==a.overflowX||"scroll"==a.overflowX)||i.clientHeight<i.scrollHeight&&("auto"==a.overflowY||"scroll"==a.overflowY)){if(!i.getBoundingClientRect||i===document.body)return T();if(b||e)return i;b=!0}}}while(i=i.parentNode);return T()}function L(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function H(t,e){return function(){if(!C){var i=arguments;1===i.length?t.call(this,i[0]):t.apply(this,i),C=setTimeout(function(){C=void 0},e)}}}function J(t,e,i){t.scrollLeft+=e,t.scrollTop+=i}function X(t){var e=window.Polymer,i=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):i?i(t).clone(!0)[0]:t.cloneNode(!0)}function Y(t,e){D(t,"position","absolute"),D(t,"top",e.top),D(t,"left",e.left),D(t,"width",e.width),D(t,"height",e.height)}function B(t){D(t,"position",""),D(t,"top",""),D(t,"left",""),D(t,"width",""),D(t,"height","")}var F="Sortable"+(new Date).getTime();function W(){var t,e=[];return{captureAnimationState:function(){(e=[],this.options.animation)&&[].slice.call(this.el.children).forEach(function(t){if("none"!==D(t,"display")&&t!==Bt.ghost){e.push({target:t,rect:M(t)});var i=a({},e[e.length-1].rect);if(t.thisAnimationDuration){var b=O(t,!0);b&&(i.top-=b.f,i.left-=b.e)}t.fromRect=i}})},addAnimationState:function(t){e.push(t)},removeAnimationState:function(t){e.splice(function(t,e){for(var i in t)if(t.hasOwnProperty(i))for(var b in e)if(e.hasOwnProperty(b)&&e[b]===t[i][b])return Number(i);return-1}(e,{target:t}),1)},animateAll:function(i){var b=this;if(!this.options.animation)return clearTimeout(t),void("function"==typeof i&&i());var a=!1,n=0;e.forEach(function(t){var e=0,i=t.target,o=i.fromRect,_=M(i),r=i.prevFromRect,s=i.prevToRect,d=t.rect,l=O(i,!0);l&&(_.top-=l.f,_.left-=l.e),i.toRect=_,i.thisAnimationDuration&&L(r,_)&&!L(o,_)&&(d.top-_.top)/(d.left-_.left)==(o.top-_.top)/(o.left-_.left)&&(e=function(t,e,i,b){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))*b.animation}(d,r,s,b.options)),L(_,o)||(i.prevFromRect=o,i.prevToRect=_,e||(e=b.options.animation),b.animate(i,d,_,e)),e&&(a=!0,n=Math.max(n,e),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout(function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null},e),i.thisAnimationDuration=e)}),clearTimeout(t),a?t=setTimeout(function(){"function"==typeof i&&i()},n):"function"==typeof i&&i(),e=[]},animate:function(t,e,i,b){if(b){D(t,"transition",""),D(t,"transform","");var a=O(this.el),n=a&&a.a,o=a&&a.d,_=(e.left-i.left)/(n||1),r=(e.top-i.top)/(o||1);t.animatingX=!!_,t.animatingY=!!r,D(t,"transform","translate3d("+_+"px,"+r+"px,0)"),this.forRepaintDummy=function(t){return t.offsetWidth}(t),D(t,"transition","transform "+b+"ms"+(this.options.easing?" "+this.options.easing:"")),D(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout(function(){D(t,"transition",""),D(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},b)}}}}var U=[],K={initializeByDefault:!0},q={mount:function(t){for(var e in K)!K.hasOwnProperty(e)||e in t||(t[e]=K[e]);U.forEach(function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),U.push(t)},pluginEvent:function(t,e,i){var b=this;this.eventCanceled=!1,i.cancel=function(){b.eventCanceled=!0};var n=t+"Global";U.forEach(function(b){e[b.pluginName]&&(e[b.pluginName][n]&&e[b.pluginName][n](a({sortable:e},i)),e.options[b.pluginName]&&e[b.pluginName][t]&&e[b.pluginName][t](a({sortable:e},i)))})},initializePlugins:function(t,e,i,b){for(var a in U.forEach(function(b){var a=b.pluginName;if(t.options[a]||b.initializeByDefault){var n=new b(t,e,t.options);n.sortable=t,n.options=t.options,t[a]=n,_(i,n.defaults)}}),t.options)if(t.options.hasOwnProperty(a)){var n=this.modifyOption(t,a,t.options[a]);void 0!==n&&(t.options[a]=n)}},getEventProperties:function(t,e){var i={};return U.forEach(function(b){"function"==typeof b.eventProperties&&_(i,b.eventProperties.call(e[b.pluginName],t))}),i},modifyOption:function(t,e,i){var b;return U.forEach(function(a){t[a.pluginName]&&a.optionListeners&&"function"==typeof a.optionListeners[e]&&(b=a.optionListeners[e].call(t[a.pluginName],i))}),b}};function Q(t){var e=t.sortable,i=t.rootEl,b=t.name,n=t.targetEl,o=t.cloneEl,_=t.toEl,r=t.fromEl,s=t.oldIndex,d=t.newIndex,l=t.oldDraggableIndex,u=t.newDraggableIndex,w=t.originalEvent,h=t.putSortable,m=t.extraEventProperties;if(e=e||i&&i[F]){var f,v=e.options,g="on"+b.charAt(0).toUpperCase()+b.substr(1);!window.CustomEvent||c||p?(f=document.createEvent("Event")).initEvent(b,!0,!0):f=new CustomEvent(b,{bubbles:!0,cancelable:!0}),f.to=_||i,f.from=r||i,f.item=n||i,f.clone=o,f.oldIndex=s,f.newIndex=d,f.oldDraggableIndex=l,f.newDraggableIndex=u,f.originalEvent=w,f.pullMode=h?h.lastPutMode:void 0;var y=a(a({},m),q.getEventProperties(b,e));for(var k in y)f[k]=y[k];i&&i.dispatchEvent(f),v[g]&&v[g].call(e,f)}}var G=["evt"],$=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},b=i.evt,n=r(i,G);q.pluginEvent.bind(Bt)(t,e,a({dragEl:V,parentEl:tt,ghostEl:et,rootEl:it,nextEl:bt,lastDownEl:at,cloneEl:nt,cloneHidden:ot,dragStarted:vt,putSortable:ct,activeSortable:Bt.active,originalEvent:b,oldIndex:_t,oldDraggableIndex:st,newIndex:rt,newDraggableIndex:dt,hideGhostForTarget:Ht,unhideGhostForTarget:Jt,cloneNowHidden:function(){ot=!0},cloneNowShown:function(){ot=!1},dispatchSortableEvent:function(t){Z({sortable:e,name:t,originalEvent:b})}},n))};function Z(t){Q(a({putSortable:ct,cloneEl:nt,targetEl:V,rootEl:it,oldIndex:_t,oldDraggableIndex:st,newIndex:rt,newDraggableIndex:dt},t))}var V,tt,et,it,bt,at,nt,ot,_t,rt,st,dt,lt,ct,pt,ut,wt,ht,mt,ft,vt,gt,yt,kt,xt,Ct=!1,Et=!1,St=[],Dt=!1,Ot=!1,Nt=[],Tt=!1,Mt=[],It="undefined"!=typeof document,jt=h,At=p||c?"cssFloat":"float",zt=It&&!m&&!h&&"draggable"in document.createElement("div"),Rt=function(){if(It){if(c)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),Pt=function(t,e){var i=D(t),b=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),a=j(t,0,e),n=j(t,1,e),o=a&&D(a),_=n&&D(n),r=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+M(a).width,s=_&&parseInt(_.marginLeft)+parseInt(_.marginRight)+M(n).width;if("flex"===i.display)return"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal";if("grid"===i.display)return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&o.float&&"none"!==o.float){var d="left"===o.float?"left":"right";return!n||"both"!==_.clear&&_.clear!==d?"horizontal":"vertical"}return a&&("block"===o.display||"flex"===o.display||"table"===o.display||"grid"===o.display||r>=b&&"none"===i[At]||n&&"none"===i[At]&&r+s>b)?"vertical":"horizontal"},Lt=function(t){function e(t,i){return function(b,a,n,o){var _=b.options.group.name&&a.options.group.name&&b.options.group.name===a.options.group.name;if(null==t&&(i||_))return!0;if(null==t||!1===t)return!1;if(i&&"clone"===t)return t;if("function"==typeof t)return e(t(b,a,n,o),i)(b,a,n,o);var r=(i?b:a).options.group.name;return!0===t||"string"==typeof t&&t===r||t.join&&t.indexOf(r)>-1}}var i={},b=t.group;b&&"object"==n(b)||(b={name:b}),i.name=b.name,i.checkPull=e(b.pull,!0),i.checkPut=e(b.put),i.revertClone=b.revertClone,t.group=i},Ht=function(){!Rt&&et&&D(et,"display","none")},Jt=function(){!Rt&&et&&D(et,"display","")};It&&document.addEventListener("click",function(t){if(Et)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Et=!1,!1},!0);var Xt=function(t){if(V){t=t.touches?t.touches[0]:t;var e=(a=t.clientX,n=t.clientY,St.some(function(t){var e=t[F].options.emptyInsertThreshold;if(e&&!A(t)){var i=M(t),b=a>=i.left-e&&a<=i.right+e,_=n>=i.top-e&&n<=i.bottom+e;return b&&_?o=t:void 0}}),o);if(e){var i={};for(var b in t)t.hasOwnProperty(b)&&(i[b]=t[b]);i.target=i.rootEl=e,i.preventDefault=void 0,i.stopPropagation=void 0,e[F]._onDragOver(i)}}var a,n,o},Yt=function(t){V&&V.parentNode[F]._isOutsideThisEl(t.target)};function Bt(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=_({},e),t[F]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Pt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Bt.supportPointer&&"PointerEvent"in window&&!w,emptyInsertThreshold:5};for(var b in q.initializePlugins(this,t,i),i)!(b in e)&&(e[b]=i[b]);for(var a in Lt(e),this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!e.forceFallback&&zt,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?v(t,"pointerdown",this._onTapStart):(v(t,"mousedown",this._onTapStart),v(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(v(t,"dragover",this),v(t,"dragenter",this)),St.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),_(this,W())}function Ft(t,e,i,b,a,n,o,_){var r,s,d=t[F],l=d.options.onMove;return!window.CustomEvent||c||p?(r=document.createEvent("Event")).initEvent("move",!0,!0):r=new CustomEvent("move",{bubbles:!0,cancelable:!0}),r.to=e,r.from=t,r.dragged=i,r.draggedRect=b,r.related=a||e,r.relatedRect=n||M(e),r.willInsertAfter=_,r.originalEvent=o,t.dispatchEvent(r),l&&(s=l.call(d,r,o)),s}function Wt(t){t.draggable=!1}function Ut(){Tt=!1}function Kt(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,b=0;i--;)b+=e.charCodeAt(i);return b.toString(36)}function qt(t){return setTimeout(t,0)}function Qt(t){return clearTimeout(t)}Bt.prototype={constructor:Bt,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(gt=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,V):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,i=this.el,b=this.options,a=b.preventOnFilter,n=t.type,o=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,_=(o||t).target,r=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||_,s=b.filter;if(function(t){Mt.length=0;var e=t.getElementsByTagName("input"),i=e.length;for(;i--;){var b=e[i];b.checked&&Mt.push(b)}}(i),!V&&!(/mousedown|pointerdown/.test(n)&&0!==t.button||b.disabled)&&!r.isContentEditable&&(this.nativeDraggable||!w||!_||"SELECT"!==_.tagName.toUpperCase())&&!((_=x(_,b.draggable,i,!1))&&_.animated||at===_)){if(_t=z(_),st=z(_,b.draggable),"function"==typeof s){if(s.call(this,t,_,this))return Z({sortable:e,rootEl:r,name:"filter",targetEl:_,toEl:i,fromEl:i}),$("filter",e,{evt:t}),void(a&&t.cancelable&&t.preventDefault())}else if(s&&(s=s.split(",").some(function(b){if(b=x(r,b.trim(),i,!1))return Z({sortable:e,rootEl:b,name:"filter",targetEl:_,fromEl:i,toEl:i}),$("filter",e,{evt:t}),!0})))return void(a&&t.cancelable&&t.preventDefault());b.handle&&!x(r,b.handle,i,!1)||this._prepareDragStart(t,o,_)}}},_prepareDragStart:function(t,e,i){var b,a=this,n=a.el,o=a.options,_=n.ownerDocument;if(i&&!V&&i.parentNode===n){var r=M(i);if(it=n,tt=(V=i).parentNode,bt=V.nextSibling,at=i,lt=o.group,Bt.dragged=V,pt={target:V,clientX:(e||t).clientX,clientY:(e||t).clientY},mt=pt.clientX-r.left,ft=pt.clientY-r.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,V.style["will-change"]="all",b=function(){$("delayEnded",a,{evt:t}),Bt.eventCanceled?a._onDrop():(a._disableDelayedDragEvents(),!u&&a.nativeDraggable&&(V.draggable=!0),a._triggerDragStart(t,e),Z({sortable:a,name:"choose",originalEvent:t}),S(V,o.chosenClass,!0))},o.ignore.split(",").forEach(function(t){N(V,t.trim(),Wt)}),v(_,"dragover",Xt),v(_,"mousemove",Xt),v(_,"touchmove",Xt),v(_,"mouseup",a._onDrop),v(_,"touchend",a._onDrop),v(_,"touchcancel",a._onDrop),u&&this.nativeDraggable&&(this.options.touchStartThreshold=4,V.draggable=!0),$("delayStart",this,{evt:t}),!o.delay||o.delayOnTouchOnly&&!e||this.nativeDraggable&&(p||c))b();else{if(Bt.eventCanceled)return void this._onDrop();v(_,"mouseup",a._disableDelayedDrag),v(_,"touchend",a._disableDelayedDrag),v(_,"touchcancel",a._disableDelayedDrag),v(_,"mousemove",a._delayedDragTouchMoveHandler),v(_,"touchmove",a._delayedDragTouchMoveHandler),o.supportPointer&&v(_,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(b,o.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){V&&Wt(V),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;g(t,"mouseup",this._disableDelayedDrag),g(t,"touchend",this._disableDelayedDrag),g(t,"touchcancel",this._disableDelayedDrag),g(t,"mousemove",this._delayedDragTouchMoveHandler),g(t,"touchmove",this._delayedDragTouchMoveHandler),g(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?v(document,"pointermove",this._onTouchMove):v(document,e?"touchmove":"mousemove",this._onTouchMove):(v(V,"dragend",this),v(it,"dragstart",this._onDragStart));try{document.selection?qt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if(Ct=!1,it&&V){$("dragStarted",this,{evt:e}),this.nativeDraggable&&v(document,"dragover",Yt);var i=this.options;!t&&S(V,i.dragClass,!1),S(V,i.ghostClass,!0),Bt.active=this,t&&this._appendGhost(),Z({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(ut){this._lastX=ut.clientX,this._lastY=ut.clientY,Ht();for(var t=document.elementFromPoint(ut.clientX,ut.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(ut.clientX,ut.clientY))!==e;)e=t;if(V.parentNode[F]._isOutsideThisEl(t),e)do{if(e[F]){if(e[F]._onDragOver({clientX:ut.clientX,clientY:ut.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);Jt()}},_onTouchMove:function(t){if(pt){var e=this.options,i=e.fallbackTolerance,b=e.fallbackOffset,a=t.touches?t.touches[0]:t,n=et&&O(et,!0),o=et&&n&&n.a,_=et&&n&&n.d,r=jt&&xt&&R(xt),s=(a.clientX-pt.clientX+b.x)/(o||1)+(r?r[0]-Nt[0]:0)/(o||1),d=(a.clientY-pt.clientY+b.y)/(_||1)+(r?r[1]-Nt[1]:0)/(_||1);if(!Bt.active&&!Ct){if(i&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}if(et){n?(n.e+=s-(wt||0),n.f+=d-(ht||0)):n={a:1,b:0,c:0,d:1,e:s,f:d};var l="matrix(".concat(n.a,",").concat(n.b,",").concat(n.c,",").concat(n.d,",").concat(n.e,",").concat(n.f,")");D(et,"webkitTransform",l),D(et,"mozTransform",l),D(et,"msTransform",l),D(et,"transform",l),wt=s,ht=d,ut=a}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!et){var t=this.options.fallbackOnBody?document.body:it,e=M(V,!0,jt,!0,t),i=this.options;if(jt){for(xt=t;"static"===D(xt,"position")&&"none"===D(xt,"transform")&&xt!==document;)xt=xt.parentNode;xt!==document.body&&xt!==document.documentElement?(xt===document&&(xt=T()),e.top+=xt.scrollTop,e.left+=xt.scrollLeft):xt=T(),Nt=R(xt)}S(et=V.cloneNode(!0),i.ghostClass,!1),S(et,i.fallbackClass,!0),S(et,i.dragClass,!0),D(et,"transition",""),D(et,"transform",""),D(et,"box-sizing","border-box"),D(et,"margin",0),D(et,"top",e.top),D(et,"left",e.left),D(et,"width",e.width),D(et,"height",e.height),D(et,"opacity","0.8"),D(et,"position",jt?"absolute":"fixed"),D(et,"zIndex","100000"),D(et,"pointerEvents","none"),Bt.ghost=et,t.appendChild(et),D(et,"transform-origin",mt/parseInt(et.style.width)*100+"% "+ft/parseInt(et.style.height)*100+"%")}},_onDragStart:function(t,e){var i=this,b=t.dataTransfer,a=i.options;$("dragStart",this,{evt:t}),Bt.eventCanceled?this._onDrop():($("setupClone",this),Bt.eventCanceled||((nt=X(V)).draggable=!1,nt.style["will-change"]="",this._hideClone(),S(nt,this.options.chosenClass,!1),Bt.clone=nt),i.cloneId=qt(function(){$("clone",i),Bt.eventCanceled||(i.options.removeCloneOnHide||it.insertBefore(nt,V),i._hideClone(),Z({sortable:i,name:"clone"}))}),!e&&S(V,a.dragClass,!0),e?(Et=!0,i._loopId=setInterval(i._emulateDragOver,50)):(g(document,"mouseup",i._onDrop),g(document,"touchend",i._onDrop),g(document,"touchcancel",i._onDrop),b&&(b.effectAllowed="move",a.setData&&a.setData.call(i,b,V)),v(document,"drop",i),D(V,"transform","translateZ(0)")),Ct=!0,i._dragStartId=qt(i._dragStarted.bind(i,e,t)),v(document,"selectstart",i),vt=!0,w&&D(document.body,"user-select","none"))},_onDragOver:function(t){var e,i,b,n,o=this.el,_=t.target,r=this.options,s=r.group,d=Bt.active,l=lt===s,c=r.sort,p=ct||d,u=this,w=!1;if(!Tt){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),_=x(_,r.draggable,o,!0),L("dragOver"),Bt.eventCanceled)return w;if(V.contains(t.target)||_.animated&&_.animatingX&&_.animatingY||u._ignoreWhileAnimating===_)return X(!1);if(Et=!1,d&&!r.disabled&&(l?c||(b=tt!==it):ct===this||(this.lastPutMode=lt.checkPull(this,d,V,t))&&s.checkPut(this,d,V,t))){if(n="vertical"===this._getDirection(t,_),e=M(V),L("dragOverValid"),Bt.eventCanceled)return w;if(b)return tt=it,H(),this._hideClone(),L("revert"),Bt.eventCanceled||(bt?it.insertBefore(V,bt):it.appendChild(V)),X(!0);var h=A(o,r.draggable);if(!h||function(t,e,i){var b=M(A(i.el,i.options.draggable));return e?t.clientX>b.right+10||t.clientX<=b.right&&t.clientY>b.bottom&&t.clientX>=b.left:t.clientX>b.right&&t.clientY>b.top||t.clientX<=b.right&&t.clientY>b.bottom+10}(t,n,this)&&!h.animated){if(h===V)return X(!1);if(h&&o===t.target&&(_=h),_&&(i=M(_)),!1!==Ft(it,o,V,e,_,i,t,!!_))return H(),o.appendChild(V),tt=o,Y(),X(!0)}else if(h&&function(t,e,i){var b=M(j(i.el,0,i.options,!0));return e?t.clientX<b.left-10||t.clientY<b.top&&t.clientX<b.right:t.clientY<b.top-10||t.clientY<b.bottom&&t.clientX<b.left}(t,n,this)){var m=j(o,0,r,!0);if(m===V)return X(!1);if(i=M(_=m),!1!==Ft(it,o,V,e,_,i,t,!1))return H(),o.insertBefore(V,m),tt=o,Y(),X(!0)}else if(_.parentNode===o){i=M(_);var f,v,g,y=V.parentNode!==o,k=!function(t,e,i){var b=i?t.left:t.top,a=i?t.right:t.bottom,n=i?t.width:t.height,o=i?e.left:e.top,_=i?e.right:e.bottom,r=i?e.width:e.height;return b===o||a===_||b+n/2===o+r/2}(V.animated&&V.toRect||e,_.animated&&_.toRect||i,n),C=n?"top":"left",E=I(_,"top","top")||I(V,"top","top"),O=E?E.scrollTop:void 0;if(gt!==_&&(v=i[C],Dt=!1,Ot=!k&&r.invertSwap||y),0!==(f=function(t,e,i,b,a,n,o,_){var r=b?t.clientY:t.clientX,s=b?i.height:i.width,d=b?i.top:i.left,l=b?i.bottom:i.right,c=!1;if(!o)if(_&&kt<s*a){if(!Dt&&(1===yt?r>d+s*n/2:r<l-s*n/2)&&(Dt=!0),Dt)c=!0;else if(1===yt?r<d+kt:r>l-kt)return-yt}else if(r>d+s*(1-a)/2&&r<l-s*(1-a)/2)return function(t){return z(V)<z(t)?1:-1}(e);if((c=c||o)&&(r<d+s*n/2||r>l-s*n/2))return r>d+s/2?1:-1;return 0}(t,_,i,n,k?1:r.swapThreshold,null==r.invertedSwapThreshold?r.swapThreshold:r.invertedSwapThreshold,Ot,gt===_))){var N=z(V);do{N-=f,g=tt.children[N]}while(g&&("none"===D(g,"display")||g===et))}if(0===f||g===_)return X(!1);gt=_,yt=f;var T=_.nextElementSibling,R=!1,P=Ft(it,o,V,e,_,i,t,R=1===f);if(!1!==P)return 1!==P&&-1!==P||(R=1===P),Tt=!0,setTimeout(Ut,30),H(),R&&!T?o.appendChild(V):_.parentNode.insertBefore(V,R?T:_),E&&J(E,0,O-E.scrollTop),tt=V.parentNode,void 0===v||Ot||(kt=Math.abs(v-M(_)[C])),Y(),X(!0)}if(o.contains(V))return X(!1)}return!1}function L(r,s){$(r,u,a({evt:t,isOwner:l,axis:n?"vertical":"horizontal",revert:b,dragRect:e,targetRect:i,canSort:c,fromSortable:p,target:_,completed:X,onMove:function(i,b){return Ft(it,o,V,e,i,M(i),t,b)},changed:Y},s))}function H(){L("dragOverAnimationCapture"),u.captureAnimationState(),u!==p&&p.captureAnimationState()}function X(e){return L("dragOverCompleted",{insertion:e}),e&&(l?d._hideClone():d._showClone(u),u!==p&&(S(V,ct?ct.options.ghostClass:d.options.ghostClass,!1),S(V,r.ghostClass,!0)),ct!==u&&u!==Bt.active?ct=u:u===Bt.active&&ct&&(ct=null),p===u&&(u._ignoreWhileAnimating=_),u.animateAll(function(){L("dragOverAnimationComplete"),u._ignoreWhileAnimating=null}),u!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(_===V&&!V.animated||_===o&&!_.animated)&&(gt=null),r.dragoverBubble||t.rootEl||_===document||(V.parentNode[F]._isOutsideThisEl(t.target),!e&&Xt(t)),!r.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),w=!0}function Y(){rt=z(V),dt=z(V,r.draggable),Z({sortable:u,name:"change",toEl:o,newIndex:rt,newDraggableIndex:dt,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){g(document,"mousemove",this._onTouchMove),g(document,"touchmove",this._onTouchMove),g(document,"pointermove",this._onTouchMove),g(document,"dragover",Xt),g(document,"mousemove",Xt),g(document,"touchmove",Xt)},_offUpEvents:function(){var t=this.el.ownerDocument;g(t,"mouseup",this._onDrop),g(t,"touchend",this._onDrop),g(t,"pointerup",this._onDrop),g(t,"touchcancel",this._onDrop),g(document,"selectstart",this)},_onDrop:function(t){var e=this.el,i=this.options;rt=z(V),dt=z(V,i.draggable),$("drop",this,{evt:t}),tt=V&&V.parentNode,rt=z(V),dt=z(V,i.draggable),Bt.eventCanceled?this._nulling():(Ct=!1,Ot=!1,Dt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Qt(this.cloneId),Qt(this._dragStartId),this.nativeDraggable&&(g(document,"drop",this),g(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),w&&D(document.body,"user-select",""),D(V,"transform",""),t&&(vt&&(t.cancelable&&t.preventDefault(),!i.dropBubble&&t.stopPropagation()),et&&et.parentNode&&et.parentNode.removeChild(et),(it===tt||ct&&"clone"!==ct.lastPutMode)&&nt&&nt.parentNode&&nt.parentNode.removeChild(nt),V&&(this.nativeDraggable&&g(V,"dragend",this),Wt(V),V.style["will-change"]="",vt&&!Ct&&S(V,ct?ct.options.ghostClass:this.options.ghostClass,!1),S(V,this.options.chosenClass,!1),Z({sortable:this,name:"unchoose",toEl:tt,newIndex:null,newDraggableIndex:null,originalEvent:t}),it!==tt?(rt>=0&&(Z({rootEl:tt,name:"add",toEl:tt,fromEl:it,originalEvent:t}),Z({sortable:this,name:"remove",toEl:tt,originalEvent:t}),Z({rootEl:tt,name:"sort",toEl:tt,fromEl:it,originalEvent:t}),Z({sortable:this,name:"sort",toEl:tt,originalEvent:t})),ct&&ct.save()):rt!==_t&&rt>=0&&(Z({sortable:this,name:"update",toEl:tt,originalEvent:t}),Z({sortable:this,name:"sort",toEl:tt,originalEvent:t})),Bt.active&&(null!=rt&&-1!==rt||(rt=_t,dt=st),Z({sortable:this,name:"end",toEl:tt,originalEvent:t}),this.save()))),this._nulling())},_nulling:function(){$("nulling",this),it=V=tt=et=bt=nt=at=ot=pt=ut=vt=rt=dt=_t=st=gt=yt=ct=lt=Bt.dragged=Bt.ghost=Bt.clone=Bt.active=null,Mt.forEach(function(t){t.checked=!0}),Mt.length=wt=ht=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":V&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],i=this.el.children,b=0,a=i.length,n=this.options;b<a;b++)x(t=i[b],n.draggable,this.el,!1)&&e.push(t.getAttribute(n.dataIdAttr)||Kt(t));return e},sort:function(t,e){var i={},b=this.el;this.toArray().forEach(function(t,e){var a=b.children[e];x(a,this.options.draggable,b,!1)&&(i[t]=a)},this),e&&this.captureAnimationState(),t.forEach(function(t){i[t]&&(b.removeChild(i[t]),b.appendChild(i[t]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return x(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var i=this.options;if(void 0===e)return i[t];var b=q.modifyOption(this,t,e);i[t]=void 0!==b?b:e,"group"===t&&Lt(i)},destroy:function(){$("destroy",this);var t=this.el;t[F]=null,g(t,"mousedown",this._onTapStart),g(t,"touchstart",this._onTapStart),g(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(g(t,"dragover",this),g(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),St.splice(St.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ot){if($("hideClone",this),Bt.eventCanceled)return;D(nt,"display","none"),this.options.removeCloneOnHide&&nt.parentNode&&nt.parentNode.removeChild(nt),ot=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(ot){if($("showClone",this),Bt.eventCanceled)return;V.parentNode!=it||this.options.group.revertClone?bt?it.insertBefore(nt,bt):it.appendChild(nt):it.insertBefore(nt,V),this.options.group.revertClone&&this.animate(V,nt),D(nt,"display",""),ot=!1}}else this._hideClone()}},It&&v(document,"touchmove",function(t){(Bt.active||Ct)&&t.cancelable&&t.preventDefault()}),Bt.utils={on:v,off:g,css:D,find:N,is:function(t,e){return!!x(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},throttle:H,closest:x,toggleClass:S,clone:X,index:z,nextTick:qt,cancelNextTick:Qt,detectDirection:Pt,getChild:j},Bt.get=function(t){return t[F]},Bt.mount=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e[0].constructor===Array&&(e=e[0]),e.forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(Bt.utils=a(a({},Bt.utils),t.utils)),q.mount(t)})},Bt.create=function(t,e){return new Bt(t,e)},Bt.version="1.14.0";var Gt,$t,Zt,Vt,te,ee,ie=[],be=!1;function ae(){ie.forEach(function(t){clearInterval(t.pid)}),ie=[]}function ne(){clearInterval(ee)}var oe,_e=H(function(t,e,i,b){if(e.scroll){var a,n=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,_=e.scrollSensitivity,r=e.scrollSpeed,s=T(),d=!1;$t!==i&&($t=i,ae(),Gt=e.scroll,a=e.scrollFn,!0===Gt&&(Gt=P(i,!0)));var l=0,c=Gt;do{var p=c,u=M(p),w=u.top,h=u.bottom,m=u.left,f=u.right,v=u.width,g=u.height,y=void 0,k=void 0,x=p.scrollWidth,C=p.scrollHeight,E=D(p),S=p.scrollLeft,O=p.scrollTop;p===s?(y=v<x&&("auto"===E.overflowX||"scroll"===E.overflowX||"visible"===E.overflowX),k=g<C&&("auto"===E.overflowY||"scroll"===E.overflowY||"visible"===E.overflowY)):(y=v<x&&("auto"===E.overflowX||"scroll"===E.overflowX),k=g<C&&("auto"===E.overflowY||"scroll"===E.overflowY));var N=y&&(Math.abs(f-n)<=_&&S+v<x)-(Math.abs(m-n)<=_&&!!S),I=k&&(Math.abs(h-o)<=_&&O+g<C)-(Math.abs(w-o)<=_&&!!O);if(!ie[l])for(var j=0;j<=l;j++)ie[j]||(ie[j]={});ie[l].vx==N&&ie[l].vy==I&&ie[l].el===p||(ie[l].el=p,ie[l].vx=N,ie[l].vy=I,clearInterval(ie[l].pid),0==N&&0==I||(d=!0,ie[l].pid=setInterval(function(){b&&0===this.layer&&Bt.active._onTouchMove(te);var e=ie[this.layer].vy?ie[this.layer].vy*r:0,i=ie[this.layer].vx?ie[this.layer].vx*r:0;"function"==typeof a&&"continue"!==a.call(Bt.dragged.parentNode[F],i,e,t,te,ie[this.layer].el)||J(ie[this.layer].el,i,e)}.bind({layer:l}),24))),l++}while(e.bubbleScroll&&c!==s&&(c=P(c,!1)));be=d}},30),re=function(t){var e=t.originalEvent,i=t.putSortable,b=t.dragEl,a=t.activeSortable,n=t.dispatchSortableEvent,o=t.hideGhostForTarget,_=t.unhideGhostForTarget;if(e){var r=i||a;o();var s=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,d=document.elementFromPoint(s.clientX,s.clientY);_(),r&&!r.el.contains(d)&&(n("spill"),this.onSpill({dragEl:b,putSortable:i}))}};function se(){}function de(){}function le(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(t){var e=t.dragEl;oe=e},dragOverValid:function(t){var e=t.completed,i=t.target,b=t.onMove,a=t.activeSortable,n=t.changed,o=t.cancel;if(a.options.swap){var _=this.sortable.el,r=this.options;if(i&&i!==_){var s=oe;!1!==b(i)?(S(i,r.swapClass,!0),oe=i):oe=null,s&&s!==oe&&S(s,r.swapClass,!1)}n(),e(!0),o()}},drop:function(t){var e=t.activeSortable,i=t.putSortable,b=t.dragEl,a=i||this.sortable,n=this.options;oe&&S(oe,n.swapClass,!1),oe&&(n.swap||i&&i.options.swap)&&b!==oe&&(a.captureAnimationState(),a!==e&&e.captureAnimationState(),function(t,e){var i,b,a=t.parentNode,n=e.parentNode;if(!a||!n||a.isEqualNode(e)||n.isEqualNode(t))return;i=z(t),b=z(e),a.isEqualNode(n)&&i<b&&b++;a.insertBefore(e,a.children[i]),n.insertBefore(t,n.children[b])}(b,oe),a.animateAll(),a!==e&&e.animateAll())},nulling:function(){oe=null}},_(t,{pluginName:"swap",eventProperties:function(){return{swapItem:oe}}})}se.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,i=t.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var b=j(this.sortable.el,this.startIndex,this.options);b?this.sortable.el.insertBefore(e,b):this.sortable.el.appendChild(e),this.sortable.animateAll(),i&&i.animateAll()},drop:re},_(se,{pluginName:"revertOnSpill"}),de.prototype={onSpill:function(t){var e=t.dragEl,i=t.putSortable||this.sortable;i.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),i.animateAll()},drop:re},_(de,{pluginName:"removeOnSpill"});var ce,pe,ue,we,he,me=[],fe=[],ve=!1,ge=!1,ye=!1;function ke(){function t(t){for(var e in this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this));t.options.supportPointer?v(document,"pointerup",this._deselectMultiDrag):(v(document,"mouseup",this._deselectMultiDrag),v(document,"touchend",this._deselectMultiDrag)),v(document,"keydown",this._checkKeyDown),v(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(e,i){var b="";me.length&&pe===t?me.forEach(function(t,e){b+=(e?", ":"")+t.textContent}):b=i.textContent,e.setData("Text",b)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){var e=t.dragEl;ue=e},delayEnded:function(){this.isMultiDrag=~me.indexOf(ue)},setupClone:function(t){var e=t.sortable,i=t.cancel;if(this.isMultiDrag){for(var b=0;b<me.length;b++)fe.push(X(me[b])),fe[b].sortableIndex=me[b].sortableIndex,fe[b].draggable=!1,fe[b].style["will-change"]="",S(fe[b],this.options.selectedClass,!1),me[b]===ue&&S(fe[b],this.options.chosenClass,!1);e._hideClone(),i()}},clone:function(t){var e=t.sortable,i=t.rootEl,b=t.dispatchSortableEvent,a=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||me.length&&pe===e&&(xe(!0,i),b("clone"),a()))},showClone:function(t){var e=t.cloneNowShown,i=t.rootEl,b=t.cancel;this.isMultiDrag&&(xe(!1,i),fe.forEach(function(t){D(t,"display","")}),e(),he=!1,b())},hideClone:function(t){var e=this,i=(t.sortable,t.cloneNowHidden),b=t.cancel;this.isMultiDrag&&(fe.forEach(function(t){D(t,"display","none"),e.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)}),i(),he=!0,b())},dragStartGlobal:function(t){t.sortable;!this.isMultiDrag&&pe&&pe.multiDrag._deselectMultiDrag(),me.forEach(function(t){t.sortableIndex=z(t)}),me=me.sort(function(t,e){return t.sortableIndex-e.sortableIndex}),ye=!0},dragStarted:function(t){var e=this,i=t.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){me.forEach(function(t){t!==ue&&D(t,"position","absolute")});var b=M(ue,!1,!0,!0);me.forEach(function(t){t!==ue&&Y(t,b)}),ge=!0,ve=!0}i.animateAll(function(){ge=!1,ve=!1,e.options.animation&&me.forEach(function(t){B(t)}),e.options.sort&&Ce()})}},dragOver:function(t){var e=t.target,i=t.completed,b=t.cancel;ge&&~me.indexOf(e)&&(i(!1),b())},revert:function(t){var e=t.fromSortable,i=t.rootEl,b=t.sortable,a=t.dragRect;me.length>1&&(me.forEach(function(t){b.addAnimationState({target:t,rect:ge?M(t):a}),B(t),t.fromRect=a,e.removeAnimationState(t)}),ge=!1,function(t,e){me.forEach(function(i,b){var a=e.children[i.sortableIndex+(t?Number(b):0)];a?e.insertBefore(i,a):e.appendChild(i)})}(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(t){var e=t.sortable,i=t.isOwner,b=t.insertion,a=t.activeSortable,n=t.parentEl,o=t.putSortable,_=this.options;if(b){if(i&&a._hideClone(),ve=!1,_.animation&&me.length>1&&(ge||!i&&!a.options.sort&&!o)){var r=M(ue,!1,!0,!0);me.forEach(function(t){t!==ue&&(Y(t,r),n.appendChild(t))}),ge=!0}if(!i)if(ge||Ce(),me.length>1){var s=he;a._showClone(e),a.options.animation&&!he&&s&&fe.forEach(function(t){a.addAnimationState({target:t,rect:we}),t.fromRect=we,t.thisAnimationDuration=null})}else a._showClone(e)}},dragOverAnimationCapture:function(t){var e=t.dragRect,i=t.isOwner,b=t.activeSortable;if(me.forEach(function(t){t.thisAnimationDuration=null}),b.options.animation&&!i&&b.multiDrag.isMultiDrag){we=_({},e);var a=O(ue,!0);we.top-=a.f,we.left-=a.e}},dragOverAnimationComplete:function(){ge&&(ge=!1,Ce())},drop:function(t){var e=t.originalEvent,i=t.rootEl,b=t.parentEl,a=t.sortable,n=t.dispatchSortableEvent,o=t.oldIndex,_=t.putSortable,r=_||this.sortable;if(e){var s=this.options,d=b.children;if(!ye)if(s.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),S(ue,s.selectedClass,!~me.indexOf(ue)),~me.indexOf(ue))me.splice(me.indexOf(ue),1),ce=null,Q({sortable:a,rootEl:i,name:"deselect",targetEl:ue,originalEvt:e});else{if(me.push(ue),Q({sortable:a,rootEl:i,name:"select",targetEl:ue,originalEvt:e}),e.shiftKey&&ce&&a.el.contains(ce)){var l,c,p=z(ce),u=z(ue);if(~p&&~u&&p!==u)for(u>p?(c=p,l=u):(c=u,l=p+1);c<l;c++)~me.indexOf(d[c])||(S(d[c],s.selectedClass,!0),me.push(d[c]),Q({sortable:a,rootEl:i,name:"select",targetEl:d[c],originalEvt:e}))}else ce=ue;pe=r}if(ye&&this.isMultiDrag){if(ge=!1,(b[F].options.sort||b!==i)&&me.length>1){var w=M(ue),h=z(ue,":not(."+this.options.selectedClass+")");if(!ve&&s.animation&&(ue.thisAnimationDuration=null),r.captureAnimationState(),!ve&&(s.animation&&(ue.fromRect=w,me.forEach(function(t){if(t.thisAnimationDuration=null,t!==ue){var e=ge?M(t):w;t.fromRect=e,r.addAnimationState({target:t,rect:e})}})),Ce(),me.forEach(function(t){d[h]?b.insertBefore(t,d[h]):b.appendChild(t),h++}),o===z(ue))){var m=!1;me.forEach(function(t){t.sortableIndex===z(t)||(m=!0)}),m&&n("update")}me.forEach(function(t){B(t)}),r.animateAll()}pe=r}(i===b||_&&"clone"!==_.lastPutMode)&&fe.forEach(function(t){t.parentNode&&t.parentNode.removeChild(t)})}},nullingGlobal:function(){this.isMultiDrag=ye=!1,fe.length=0},destroyGlobal:function(){this._deselectMultiDrag(),g(document,"pointerup",this._deselectMultiDrag),g(document,"mouseup",this._deselectMultiDrag),g(document,"touchend",this._deselectMultiDrag),g(document,"keydown",this._checkKeyDown),g(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(void 0!==ye&&ye||pe!==this.sortable||t&&x(t.target,this.options.draggable,this.sortable.el,!1)||t&&0!==t.button))for(;me.length;){var e=me[0];S(e,this.options.selectedClass,!1),me.shift(),Q({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:e,originalEvt:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},_(t,{pluginName:"multiDrag",utils:{select:function(t){var e=t.parentNode[F];e&&e.options.multiDrag&&!~me.indexOf(t)&&(pe&&pe!==e&&(pe.multiDrag._deselectMultiDrag(),pe=e),S(t,e.options.selectedClass,!0),me.push(t))},deselect:function(t){var e=t.parentNode[F],i=me.indexOf(t);e&&e.options.multiDrag&&~i&&(S(t,e.options.selectedClass,!1),me.splice(i,1))}},eventProperties:function(){var t=this,e=[],i=[];return me.forEach(function(b){var a;e.push({multiDragElement:b,index:b.sortableIndex}),a=ge&&b!==ue?-1:ge?z(b,":not(."+t.options.selectedClass+")"):z(b),i.push({multiDragElement:b,index:a})}),{items:s(me),clones:[].concat(fe),oldIndicies:e,newIndicies:i}},optionListeners:{multiDragKey:function(t){return"ctrl"===(t=t.toLowerCase())?t="Control":t.length>1&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}function xe(t,e){fe.forEach(function(i,b){var a=e.children[i.sortableIndex+(t?Number(b):0)];a?e.insertBefore(i,a):e.appendChild(i)})}function Ce(){me.forEach(function(t){t!==ue&&t.parentNode&&t.parentNode.removeChild(t)})}Bt.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):this.options.supportPointer?v(document,"pointermove",this._handleFallbackAutoScroll):e.touches?v(document,"touchmove",this._handleFallbackAutoScroll):v(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?g(document,"dragover",this._handleAutoScroll):(g(document,"pointermove",this._handleFallbackAutoScroll),g(document,"touchmove",this._handleFallbackAutoScroll),g(document,"mousemove",this._handleFallbackAutoScroll)),ne(),ae(),clearTimeout(C),C=void 0},nulling:function(){te=$t=Gt=be=ee=Zt=Vt=null,ie.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var i=this,b=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,n=document.elementFromPoint(b,a);if(te=t,e||this.options.forceAutoScrollFallback||p||c||w){_e(t,this.options,n,e);var o=P(n,!0);!be||ee&&b===Zt&&a===Vt||(ee&&ne(),ee=setInterval(function(){var n=P(document.elementFromPoint(b,a),!0);n!==o&&(o=n,ae()),_e(t,i.options,n,e)},10),Zt=b,Vt=a)}else{if(!this.options.bubbleScroll||P(n,!0)===T())return void ae();_e(t,this.options,P(n,!1),!1)}}},_(t,{pluginName:"scroll",initializeByDefault:!0})}),Bt.mount(de,se),e.default=Bt},function(t,e,i){"use strict";i.r(e);i(4),i(0),i(5),i(6),i(7),i(8),i(9),i(10),i(1),i(11);window.bt_bb_sortable=i(2)},function(t,e,i){"use strict";var b;window.bt_bb_map={},window.bt_bb_map_primary={},window.bt_bb_map_secondary={},window.addEventListener("beforeunload",function(t){window.bt_bb_dirty&&(t.preventDefault(),t.returnValue="")}),(b=jQuery)(document).ready(function(){try{window.bt_bb_alo=JSON.parse(localStorage.getItem("bt_bb_alo"))}catch(t){console.error(t),window.bt_bb_alo={}}if(window.bt_bb_alo||(window.bt_bb_alo={}),b(window).unload(function(){window.bt_bb_alo||(window.bt_bb_alo={}),localStorage.setItem("bt_bb_alo",JSON.stringify(window.bt_bb_alo))}),window.bt_bb_mouse={},window.bt_bb_drag_item=null,b("#bt_bb").length>0&&window.bt_bb_data.children.length>0&&(void 0!==window.bt_bb_map[window.bt_bb_data.children[0].base]&&!0===window.bt_bb_map[window.bt_bb_data.children[0].base].root||(window.bt_bb_data.children=[],window.bt_bb.is_bb_content=!1)),b("#postdivrich").length>0&&b("#bt_bb").length>0){b("#postdivrich").before('<div id="bt_bb_editor_toolbar"></div>'),window.bt_bb.is_bb_content?(window.bt_bb.editor="bb",b("#postdivrich").addClass("bt_bb_hidden"),b("#bt_bb_editor_toolbar").addClass("bt_bb_is_bb_editor")):(window.bt_bb.editor="wp",b("#bt_bb_sectionid").hide());var t="bb"==window.bt_bb.editor;b("#bt_bb_editor_toolbar").html('<button type="button" class="button bt_bb_switch_editor">'+window.bt_bb_text.switch_editor+'</button> <button type="button" class="button bt_bb_custom_css" disabled>'+window.bt_bb_text.custom_css+"</button>");var e={action:"bt_bb_get_custom_css",post_id:b("#post_ID").val()};b.ajax({type:"POST",url:window.bt_bb_ajax_url,data:e,async:!0,success:function(e){window.bt_bb_custom_css=window.bt_bb_b64EncodeUnicode(e),t&&b(".bt_bb_custom_css").removeAttr("disabled"),""!=e&&b(".bt_bb_custom_css").addClass("button-primary")}})}function i(t){var e=window.location.href;t=t.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}if(b("#publish, #post-preview, #save-post, #save").on("click",function(t){window.bt_bb_dirty=!1,"bb"==window.bt_bb.editor&&(b("#bt_bb_front_end_preview iframe").remove(),b("#bt_bb_front_end_preview").append('<iframe name="bt_bb_front_end_preview_iframe"></iframe>'),b("#bt_bb_front_end_preview").hide(),window.bt_bb_action="update_wp_editor",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event"))}),window.bt_bb_item_mousedown=function(){b(".bt_bb_item").each(function(){b(this).unbind("mousedown"),b(this).on("mousedown",function(t){t.stopPropagation();var e=this.getBoundingClientRect(),i=t.clientX-e.left,a=t.clientY-e.top;window.bt_bb_mouse.initOffsetX=i,window.bt_bb_mouse.initOffsetY=a,window.bt_bb_action=null,window.bt_bb_drag_item=b(this),b(".bt_bb_toolbar_tools_visible").removeClass("bt_bb_toolbar_tools_visible");var n=b(this).parent()[0].getBoundingClientRect();b(this).parent().css("height",n.height),b(this).parent().addClass("bt_bb_wrap_drag"),b(this).addClass("bt_bb_drag"),b(this).find(".bt_bb_horizontal").css("height","auto"),b(this).find(".bt_bb_width .bt_bb_item").css("height","auto"),b(this).css("width",b(this).width()),b(this).hasClass("bt_bb_toggled")||(n=b(this)[0].getBoundingClientRect(),b(this).css("height",n.height)),b(this).css("position","fixed"),b(this).css("zIndex","100000"),b(this).css("top",bt_bb_mouse.y-bt_bb_mouse.initOffsetY),b(this).css("left",bt_bb_mouse.x-bt_bb_mouse.initOffsetX)})})},bt_bb_item_mousedown(),b(document).mouseup(function(t){b(".bt_bb_marker").removeClass("bt_bb_marker"),null!=window.bt_bb_drag_item&&(window.bt_bb_dialog.hide(),b(".bt_bb_toolbar_tools").css("opacity",""),null!=window.bt_bb_action&&window.bt_bb_action.startsWith("move")&&(window.bt_bb_ctrl=t.ctrlKey,bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")),window.bt_bb_drag_item.parent().css("height",""),window.bt_bb_drag_item.parent().removeClass("bt_bb_wrap_drag"),window.bt_bb_drag_item.removeClass("bt_bb_drag"),window.bt_bb_drag_item.find(".bt_bb_horizontal").css("height",""),window.bt_bb_drag_item.find(".bt_bb_width .bt_bb_item").css("height",""),window.bt_bb_drag_item.css("position",""),window.bt_bb_drag_item.css("zIndex",""),window.bt_bb_drag_item.css("opacity",""),window.bt_bb_drag_item.css("width",""),window.bt_bb_drag_item.hasClass("bt_bb_toggled")||window.bt_bb_drag_item.css("height",""),window.bt_bb_drag_item.css("top",""),window.bt_bb_drag_item.css("left","")),window.bt_bb_drag_item=null}),b(document).mousemove(function(t){if(bt_bb_mouse.x=t.clientX,bt_bb_mouse.y=t.clientY,null!=window.bt_bb_drag_item){window.bt_bb_drag_item.css("top",bt_bb_mouse.y-bt_bb_mouse.initOffsetY),window.bt_bb_drag_item.css("left",bt_bb_mouse.x-bt_bb_mouse.initOffsetX);var e=bt_bb_get_action();b(".bt_bb_marker").removeClass("bt_bb_marker bt_bb_marker_up bt_bb_marker_down bt_bb_marker_left bt_bb_marker_right bt_bb_marker_inside"),null!=window.bt_bb_action&&("up"==e[1]?e[0].addClass("bt_bb_marker bt_bb_marker_up"):"down"==e[1]?e[0].addClass("bt_bb_marker bt_bb_marker_down"):"left"==e[1]?e[0].addClass("bt_bb_marker bt_bb_marker_left"):"right"==e[1]?e[0].addClass("bt_bb_marker bt_bb_marker_right"):"inside"==e[1]&&e[0].addClass("bt_bb_marker bt_bb_marker_inside"))}}),b(document).on("mouseover","#bt_bb_dialog",function(t){t.stopPropagation(),window.bt_bb_dialog.is_mouseover=!0,b(".bt_bb_toolbar_tools_visible").removeClass("bt_bb_toolbar_tools_visible")}),b(document).on("mouseleave","#bt_bb_dialog",function(t){window.bt_bb_dialog.is_mouseover=!1}),b("#bt_bb_add_root").click(function(t){t.preventDefault(),window.bt_bb_dialog.hide(),window.bt_bb_action="add_root",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")}),b("#bt_bb_main_toolbar .bt_bb_undo").click(function(t){bt_bb_undo()}),b("#bt_bb_main_toolbar .bt_bb_redo").click(function(t){bt_bb_redo()}),b("#bt_bb_main_toolbar .bt_bb_paste_root").click(function(t){bt_bb_paste_main_toolbar()}),b("#bt_bb_main_toolbar .bt_bb_manage_clipboard").click(function(t){window.bt_bb_dialog.hide(),window.bt_bb_dialog.show("manage_cb")}),b("#bt_bb_main_toolbar .bt_bb_sc_mapper").click(function(t){window.bt_bb_dialog.hide(),window.bt_bb_dialog.show("sc_mapper")}),b("#bt_bb_editor_toolbar .bt_bb_switch_editor").click(function(t){"bb"==window.bt_bb.editor?(window.bt_bb.editor="wp",window.bt_bb_action="update_wp_editor",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event"),b("#postdivrich").removeClass("bt_bb_hidden"),b("#bt_bb_sectionid").hide(),b("#postdivrich").hide().show(0),b(this).parent().removeClass("bt_bb_is_bb_editor"),b(".bt_bb_custom_css").attr("disabled","")):confirm(window.bt_bb_text.switch_editor_confirm)&&(window.bt_bb.editor="bb",b("#postdivrich").addClass("bt_bb_hidden"),b("#bt_bb_sectionid").show(0),b(this).parent().addClass("bt_bb_is_bb_editor"),b(".bt_bb_custom_css").removeAttr("disabled"))}),b("#bt_bb_editor_toolbar .bt_bb_custom_css").on("click",function(t){window.bt_bb_dialog.hide(),window.bt_bb_dialog.show("custom_css"),b("#bt_bb_dialog").addClass("bt_bb_dialog_custom_css")}),b("#bt_bb_main_toolbar .bt_bb_preview").on("click",function(t){b("#post-preview").click()}),b("#bt_bb_main_toolbar .bt_bb_save").on("click",function(t){b("#publish").click()}),window.bt_bb_toolbar=function(){b(document).unbind("keydown.bt_bb"),b(document).unbind("keyup.bt_bb"),b(".bt_bb_toolbar").unbind("mouseover"),b(".bt_bb_toolbar").unbind("mouseout"),b(".bt_bb_toolbar i").unbind("mousedown"),b(".bt_bb_toolbar i").unbind("click"),b(".bt_bb_toolbar i").mousedown(function(t){t.stopPropagation()}),b(".bt_bb_toolbar .bt_bb_order").mousedown(function(t){t.stopPropagation()}),b(".bt_bb_toolbar .bt_bb_toggle").on("click",function(t){window.bt_bb_from=b(this).closest(".bt_bb_item").parent().data("reactid"),b(this).closest(".bt_bb_item").hasClass("bt_bb_toggled")?window.bt_bb_action="toggle_off":window.bt_bb_action="toggle_on",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")}),b(".bt_bb_toolbar .bt_bb_delete").click(function(t){window.bt_bb_action="delete",window.bt_bb_from=b(this).closest(".bt_bb_item").parent().data("reactid"),bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")}),b(".bt_bb_toolbar .bt_bb_add").click(function(t){t.preventDefault(),window.bt_bb_dialog.hide(),"horizontal"==b(this).closest(".bt_bb_item").data("container")?window.bt_bb_action="add_horizontal":window.bt_bb_action="add",window.bt_bb_from=b(this).closest(".bt_bb_item").parent().data("reactid"),window.bt_bb_base=b(this).closest(".bt_bb_item").data("base"),bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")}),b(".bt_bb_toolbar .bt_bb_edit").click(function(t){t.preventDefault(),window.bt_bb_dialog.hide(),window.bt_bb_action="edit",window.bt_bb_from=b(this).closest(".bt_bb_item").parent().data("reactid"),window.bt_bb_base=b(this).closest(".bt_bb_item").data("base"),bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")}),b(".bt_bb_toolbar .bt_bb_clone").click(function(t){t.preventDefault(),window.bt_bb_action="clone",window.bt_bb_from=b(this).closest(".bt_bb_item").parent().data("reactid"),bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")}),b(".bt_bb_toolbar .bt_bb_copy").click(function(t){t.preventDefault(),window.bt_bb_action="copy",window.bt_bb_from=b(this).closest(".bt_bb_item").parent().data("reactid"),bt_bb_dispatch(".bt_bb_item_list","bt_bb_event"),t.ctrlKey&&(window.bt_bb_action="delete",window.bt_bb_from=b(this).closest(".bt_bb_item").parent().data("reactid"),bt_bb_dispatch(".bt_bb_item_list","bt_bb_event"))}),b(".bt_bb_toolbar .bt_bb_copy_plus").click(function(t){t.preventDefault(),window.bt_bb_action="copy_plus",window.bt_bb_from=b(this).closest(".bt_bb_item").parent().data("reactid"),bt_bb_dispatch(".bt_bb_item_list","bt_bb_event"),t.ctrlKey&&(window.bt_bb_action="delete",window.bt_bb_from=b(this).closest(".bt_bb_item").parent().data("reactid"),bt_bb_dispatch(".bt_bb_item_list","bt_bb_event"))}),b(".bt_bb_toolbar .bt_bb_paste").click(function(t){t.preventDefault(),t.ctrlKey?window.bt_bb_action="paste_before":window.bt_bb_action="paste",window.bt_bb_from=b(this).closest(".bt_bb_item").parent().data("reactid"),bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")}),b(".bt_bb_toolbar .bt_bb_order").click(function(t){t.preventDefault(),window.bt_bb_dialog.hide();var e=b(this).find(".bt_bb_order_inner").html();b("#bt_bb_front_end_preview").show(),b("#bt_bb_front_end_preview").append('<div class="bt_bb_front_end_preview_loading"><div class="bt_bb_fe_loader"><div class="sk-cube sk-cube1"></div><div class="sk-cube sk-cube2"></div><div class="sk-cube sk-cube3"></div><div class="sk-cube sk-cube4"></div><div class="sk-cube sk-cube5"></div><div class="sk-cube sk-cube6"></div><div class="sk-cube sk-cube7"></div><div class="sk-cube sk-cube8"></div><div class="sk-cube sk-cube9"></div></div>\x3c!-- /bt_bb_fe_loader --\x3e</div>'),b("#bt_bb_front_end_preview iframe").remove(),b("#bt_bb_front_end_preview").append('<iframe name="bt_bb_front_end_preview_iframe"></iframe>'),b("#bt_bb_front_end_preview iframe").css("opacity","0"),b("#bt_bb_front_end_preview iframe").load(function(){var t;(t=b("#bt_bb_front_end_preview iframe").contents()).find("#wpadminbar").hide(),t.find("html").attr("style","margin-top: 0px !important"),t.find("body").removeClass("admin-bar"),t.find("body").imagesLoaded().always(function(i){b("#bt_bb_front_end_preview .bt_bb_front_end_preview_loading").remove();var a=t.find(".bt_bb_fe_wrap"),n=[];a.each(function(t,e){null===e.closest(".menu")&&n.push(e)}),b("#bt_bb_front_end_preview iframe").css("opacity","1"),t.find("html, body").scrollTop(b(n[e-1]).offset().top)})}),window.bt_bb_resize_front_end_preview(),window.bt_bb_action="update_wp_editor",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event");var i=b("form#post");b("<input>").attr({type:"hidden",value:"true",name:"bt_bb_fe_preview"}).appendTo(i);var a=b("input#wp-preview"),n=navigator.userAgent.toLowerCase();wp.autosave&&wp.autosave.server.tempBlockSave(),a.val("dopreview"),i.attr("target","bt_bb_front_end_preview_iframe").submit().attr("target",""),b('input[name="bt_bb_fe_preview"]').remove(),-1!==n.indexOf("safari")&&-1===n.indexOf("chrome")&&i.attr("action",function(t,e){return e+"?t="+(new Date).getTime()}),a.val("")}),b(".bt_bb_front_end_preview_close").click(function(t){b("#bt_bb_front_end_preview").hide()})},window.bt_bb_toolbar(),b("#bt_bb").length>0&&window.bt_bb_init_number_items(),Number.isInteger(parseInt(i("bt_bb_order")))){var a=parseInt(i("bt_bb_order"));setTimeout(function(){b("html, body").scrollTop(b(".bt_bb_order").eq(a-1).offset().top-b("#wpadminbar").height()-24)},500)}b("#bt_bb_front_end_preview").on("click",".bt_bb_front_end_preview_resize",function(t){b("#bt_bb_front_end_preview").removeClass("bt_bb_front_end_preview_xl"),b("#bt_bb_front_end_preview").removeClass("bt_bb_front_end_preview_lg"),b("#bt_bb_front_end_preview").removeClass("bt_bb_front_end_preview_md"),b("#bt_bb_front_end_preview").removeClass("bt_bb_front_end_preview_sm"),b("#bt_bb_front_end_preview").removeClass("bt_bb_front_end_preview_xs"),b(this).siblings().removeClass("bt_bb_front_end_preview_selected"),b(this).addClass("bt_bb_front_end_preview_selected");var e=b(this).data("preview-size");b("#bt_bb_front_end_preview").addClass("bt_bb_front_end_preview_"+e);var i=!1;"xl"==e?i=Math.round(.9*b(window).width())+"px":"lg"==e?i="1200px":"md"==e?i="992px":"sm"==e?i="768px":"xs"==e&&(i="480px"),b("#bt_bb_front_end_preview").data("width",i),window.bt_bb_resize_front_end_preview()})}),window.bt_bb_get_action=function(){var t=bt_bb_mouse.x,e=bt_bb_mouse.y;window.bt_bb_action=null;var i=null,a=null;if(!bt_bb_point_coll(bt_bb_drag_item.parent(),t,e)){var n=bt_bb_drag_item.data("base"),o=b(".bt_bb_item").not(".bt_bb_drag").not(".bt_bb_drag .bt_bb_item");"bt_bb_section"!=n&&"bt_section"!=n||(o=b('.bt_bb_item[data-base="bt_bb_section"],.bt_bb_item[data-base="bt_section"]').not(".bt_bb_drag").not(".bt_bb_drag .bt_bb_item"));var _=bt_bb_get_closest(o,t,e);if(null!=_){var r=bt_bb_get_position(_);if(window.bt_bb_from=bt_bb_drag_item.parent().data("reactid"),window.bt_bb_to=_.parent().data("reactid"),"inside"==r)var s=_.data("base"),d=_;else s=_.parent().closest(".bt_bb_item").data("base"),d=_.parent().closest(".bt_bb_item");i=_;var l=!1;_.parent().parent().hasClass("bt_bb_item_list")&&"inside"!=r?l=void 0!==window.bt_bb_map[n]&&!0===window.bt_bb_map[n].root:void 0===window.bt_bb_map[s]||void 0===window.bt_bb_map[s].accept?l=!1:!0===window.bt_bb_map[s].accept[n]?l=!0:!1===window.bt_bb_map[s].accept[n]?l=!1:!0===window.bt_bb_map[s].accept_all?l=!0:!1===window.bt_bb_map[s].accept_all&&(l=!1),d.find(".bt_bb_horizontal").length>0&&d.find(".bt_bb_horizontal")[0].children.length>=12&&(l=!1),l&&("down"==r?(window.bt_bb_action="move_down",a="down",i.parent().hasClass("bt_bb_width")&&(a="right")):"up"==r?(window.bt_bb_action="move_up",a="up",i.parent().hasClass("bt_bb_width")&&(a="left")):"left"==r?(window.bt_bb_action="move_up",a="up",i.parent().hasClass("bt_bb_width")&&(a="left")):"right"==r?(window.bt_bb_action="move_down",a="down",i.parent().hasClass("bt_bb_width")&&(a="right")):"inside"==r&&(window.bt_bb_action="move_inside",a="inside"))}}return[i,a]},window.bt_bb_point_coll=function(t,e,i){var a=t.offset().top-b(window).scrollTop(),n=t.offset().left,o=t.innerWidth(),_=t.innerHeight();return bt_bb_point_coll_base(a,n,o,_,e,i)},window.bt_bb_point_coll_top=function(t,e,i){var a=t.offset().top-b(window).scrollTop(),n=t.offset().left,o=t.innerWidth(),_=t.find(".bt_bb_toolbar").height()+2*window.bt_bb.padding;return bt_bb_point_coll_base(a,n,o,_,e,i)},window.bt_bb_point_coll_base=function(t,e,i,b,a,n){for(var o,_,r,s=[e,e,e+i,e+i],d=[t,t+b,t+b,t],l=!0,c=0;c<4;c++)r=3==c?-((o=-(d[0]-d[c]))*s[c]+(_=s[0]-s[c])*d[c]):-((o=-(d[c+1]-d[c]))*s[c]+(_=s[c+1]-s[c])*d[c]),o*a+_*n+r>0&&(l=!1);return l},window.bt_bb_point_dist=function(t,e,i){var a=t.offset().top-b(window).scrollTop(),n=t.offset().left,o=a+t.innerHeight(),_=n+t.innerWidth();return e>n&&e<_&&i>a&&i<o?Math.min(Math.min(Math.abs(i-a),Math.abs(i-o)),Math.min(Math.abs(e-n),Math.abs(e-_))):e>n&&e<_?Math.min(Math.abs(i-a),Math.abs(i-o)):i>a&&i<o?Math.min(Math.abs(e-n),Math.abs(e-_)):null},window.bt_bb_get_closest=function(t,e,i){var a=1e5,n=null;t.each(function(){var t=bt_bb_point_dist(b(this),e,i);null!=t&&t<=a&&(a=t,n=b(this))});var o=bt_bb_drag_item.data("base");return null!==n&&"bt_bb_column"==n.data("base")&&"bt_bb_column"!=o&&n.find(b(".bt_bb_item")).length&&(n=window.bt_bb_get_closest(n.find(b(".bt_bb_item").not(".bt_bb_drag").not(".bt_bb_drag .bt_bb_item")),e,i)),n},window.bt_bb_get_position=function(t){var e=t.offset().top-b(window).scrollTop(),i=t.offset().left,a=e+t.innerHeight(),n=i+t.innerWidth();if(bt_bb_mouse.y<e)var o="up";else o=bt_bb_mouse.y>a?"down":bt_bb_mouse.x<i?"left":bt_bb_mouse.x>n?"right":"inside";return o},window.bt_bb_event=function(t){window.bt_bb_action=t,bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")},window.bt_bb_resize_dialog=function(t){if(b(window).innerHeight()<800)var e=Math.round(.5*b(window).innerHeight());else e=Math.round(.65*b(window).innerHeight());b("#bt_bb_dialog .bt_bb_dialog_content").css("max-height",e),b("#bt_bb_dialog").css("width",Math.round(.5*b(window).width())+"px");var i=b("#bt_bb_dialog").width();b("#bt_bb_dialog").css({transform:"translateX("+Math.round(.5*-i)+"px)"})},window.bt_bb_resize_front_end_preview=function(){var t=b("#bt_bb_front_end_preview").data("width");t?b("#bt_bb_front_end_preview").css("width",t):b("#bt_bb_front_end_preview").css("width",Math.round(.9*b(window).width())+"px"),b("#bt_bb_front_end_preview").css("height",Math.round(.8*b(window).innerHeight())),t?parseFloat(t):b("#bt_bb_front_end_preview").width(),b("#bt_bb_front_end_preview").height()},b(window).resize(function(){window.bt_bb_resize_dialog(),window.bt_bb_resize_front_end_preview()})},function(t,e,i){"use strict";window.bt_bb_edit_layout=function(){let t=jQuery;var e=bt_bb_get_obj_by_id(window.bt_bb_state_current,window.bt_bb_from),i="",b="",a="",n="",o="";for(let t=0;t<e.children.length;t++){var _=window.bt_bb_map[e.children[t].base].width_param,r=attr_to_obj(e.children[t].attr);void 0!==r&&void 0!==r[_]&&(i+=r[_]),void 0!==r&&void 0!==r.width_lg&&(b+=r.width_lg),void 0!==r&&void 0!==r.width_md&&(a+=r.width_md),void 0!==r&&void 0!==r.width_sm&&(n+=r.width_sm),void 0!==r&&void 0!==r.width_xs&&(o+=r.width_xs),t<e.children.length-1&&(void 0!==r&&void 0!==r[_]&&""!==r[_]&&(i+="+"),void 0!==r&&void 0!==r.width_lg&&""!==r.width_lg&&(b+="+"),void 0!==r&&void 0!==r.width_md&&""!==r.width_md&&(a+="+"),void 0!==r&&void 0!==r.width_sm&&""!==r.width_sm&&(n+="+"),void 0!==r&&void 0!==r.width_xs&&""!==r.width_xs&&(o+="+"))}t("#bt_bb_dialog").addClass("bt_bb_dialog_add_horizontal");t("#bt_bb_dialog .bt_bb_dialog_content").html('<div class="bt_bb_dialog_pick_layout_container"><span class="bt_bb_dialog_pick_layout bt_bb_dialog_11" title="1/1"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_12_12" title="1/2+1/2"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_13_13_13" title="1/3+1/3+1/3"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_14_14_14_14" title="1/4+1/4+1/4+1/4"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_15_15_15_15_15" title="1/5+1/5+1/5+1/5+1/5"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_23_13" title="2/3+1/3"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_13_23" title="1/3+2/3"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_34_14" title="3/4+1/4"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_14_34" title="1/4+3/4"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_14_24_14" title="1/4+2/4+1/4"></span></div><div class="bt_bb_dialog_enter_layout_container"><div class="bt_bb_edit_layout_xl"><b>&gt;1200px</b><input type="text" class="bt_bb_dialog_enter_layout bt_bb_dialog_enter_layout_xl"></div><div class="bt_bb_edit_layout_lg"><b>993-1200px</b><input type="text" class="bt_bb_dialog_enter_layout bt_bb_dialog_enter_layout_lg" placeholder="---"></div><div class="bt_bb_edit_layout_md"><b>769-992px</b><input type="text" class="bt_bb_dialog_enter_layout bt_bb_dialog_enter_layout_md" placeholder="---"></div><div class="bt_bb_edit_layout_sm"><b>481-768px</b><input type="text" class="bt_bb_dialog_enter_layout bt_bb_dialog_enter_layout_sm" placeholder="---"></div><div class="bt_bb_edit_layout_xs"><b>&le;480px</b><input type="text" class="bt_bb_dialog_enter_layout bt_bb_dialog_enter_layout_xs" placeholder="---"></div></div>'),t("#bt_bb_dialog").append('<input type="button" class="bt_bb_dialog_button bt_bb_edit button button-small" value="'+window.bt_bb_text.submit+'">'),""!=i&&t(".bt_bb_dialog_enter_layout_xl").val(i),""!=b&&t(".bt_bb_dialog_enter_layout_lg").val(b),""!=a&&t(".bt_bb_dialog_enter_layout_md").val(a),""!=n&&t(".bt_bb_dialog_enter_layout_sm").val(n),""!=o&&t(".bt_bb_dialog_enter_layout_xs").val(o),t(".bt_bb_dialog_pick_layout").click(function(e){var i=t(this).attr("title").replace(/\s/gm,"");t(".bt_bb_dialog_enter_layout").parent().removeClass("bt_bb_layout_error_alert"),t(".bt_bb_dialog_enter_layout").val(i),"bt_bb_row"!=window.bt_bb_base&&"bt_bb_row_inner"!=window.bt_bb_base||("1/2+1/2"==i?t(".bt_bb_dialog_enter_layout_xs").val("1/1+1/1"):"1/3+1/3+1/3"==i?(t(".bt_bb_dialog_enter_layout_xs").val("1/1+1/1+1/1"),t(".bt_bb_dialog_enter_layout_sm").val("1/1+1/1+1/1"),t(".bt_bb_dialog_enter_layout_md").val("1/1+1/1+1/1")):"1/4+1/4+1/4+1/4"==i?(t(".bt_bb_dialog_enter_layout_xs").val("1/1+1/1+1/1+1/1"),t(".bt_bb_dialog_enter_layout_sm").val("1/2+1/2+1/2+1/2"),t(".bt_bb_dialog_enter_layout_md").val("1/2+1/2+1/2+1/2")):"2/3+1/3"==i?(t(".bt_bb_dialog_enter_layout_xs").val("1/1+1/1"),t(".bt_bb_dialog_enter_layout_sm").val("1/1+1/1"),t(".bt_bb_dialog_enter_layout_md").val("1/1+1/1")):"1/3+2/3"==i?(t(".bt_bb_dialog_enter_layout_xs").val("1/1+1/1"),t(".bt_bb_dialog_enter_layout_sm").val("1/1+1/1"),t(".bt_bb_dialog_enter_layout_md").val("1/1+1/1")):"3/4+1/4"==i?(t(".bt_bb_dialog_enter_layout_xs").val("1/1+1/1"),t(".bt_bb_dialog_enter_layout_sm").val("1/1+1/1"),t(".bt_bb_dialog_enter_layout_md").val("1/1+1/1")):"1/4+3/4"==i?(t(".bt_bb_dialog_enter_layout_xs").val("1/1+1/1"),t(".bt_bb_dialog_enter_layout_sm").val("1/1+1/1"),t(".bt_bb_dialog_enter_layout_md").val("1/1+1/1")):"1/4+2/4+1/4"==i?(t(".bt_bb_dialog_enter_layout_xs").val("1/1+1/1+1/1"),t(".bt_bb_dialog_enter_layout_sm").val("1/1+1/1+1/1"),t(".bt_bb_dialog_enter_layout_md").val("1/1+1/1+1/1")):"1/5+1/5+1/5+1/5+1/5"==i&&(t(".bt_bb_dialog_enter_layout_xs").val("1/1+1/1+1/1+1/1+1/1"),t(".bt_bb_dialog_enter_layout_sm").val("1/1+1/1+1/1+1/1+1/1"),t(".bt_bb_dialog_enter_layout_md").val("1/1+1/1+1/1+1/1+1/1")))}),t(".bt_bb_dialog_enter_layout").keypress(function(t){13==t.which&&t.preventDefault()}),t(".bt_bb_dialog_add_horizontal .bt_bb_dialog_button").click(function(e){bt_bb_add_horizontal(window.bt_bb_state_current,[t(".bt_bb_dialog_enter_layout_xl").val(),t(".bt_bb_dialog_enter_layout_lg").val(),t(".bt_bb_dialog_enter_layout_md").val(),t(".bt_bb_dialog_enter_layout_sm").val(),t(".bt_bb_dialog_enter_layout_xs").val()])&&window.bt_bb_dialog.hide()})}},function(t,e,i){"use strict";window.bt_bb_edit_layout_classic=function(){let t=jQuery;for(var e=bt_bb_get_obj_by_id(window.bt_bb_state_current,window.bt_bb_from),i="",b=0;b<e.children.length;b++){var a=window.bt_bb_map[e.children[b].base].width_param;i+=attr_to_obj(e.children[b].attr)[a],b<e.children.length-1&&(i+="+")}t("#bt_bb_dialog").addClass("bt_bb_dialog_add_horizontal bt_bb_dialog_add_horizontal_classic");t("#bt_bb_dialog .bt_bb_dialog_content").html('<div class="bt_bb_dialog_pick_layout_container"><span class="bt_bb_dialog_pick_layout bt_bb_dialog_11" title="1/1"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_12_12" title="1/2+1/2"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_13_13_13" title="1/3+1/3+1/3"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_14_14_14_14" title="1/4+1/4+1/4+1/4"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_23_13" title="2/3+1/3"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_13_23" title="1/3+2/3"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_34_14" title="3/4+1/4"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_14_34" title="1/4+3/4"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_14_24_14" title="1/4+2/4+1/4"></span></div><div class="bt_bb_dialog_enter_layout_container"><div contenteditable="true" class="bt_bb_dialog_enter_layout">1/1</div></div>'),t("#bt_bb_dialog").append('<input type="button" class="bt_bb_dialog_button bt_bb_edit button button-small" value="'+window.bt_bb_text.submit+'">'),""!=i&&t(".bt_bb_dialog_enter_layout").html(i),t(".bt_bb_dialog_pick_layout").click(function(e){t(".bt_bb_dialog_enter_layout").html(t(this).attr("title").replace(/\s/gm,"")),t(".bt_bb_dialog_enter_layout").focus()}),t(".bt_bb_dialog_enter_layout").keypress(function(e){13==e.which&&(e.preventDefault(),bt_bb_add_horizontal_classic(window.bt_bb_state_current,t(this).html()),window.bt_bb_dialog.hide())}),t(".bt_bb_dialog_add_horizontal .bt_bb_dialog_button").click(function(e){bt_bb_add_horizontal_classic(window.bt_bb_state_current,t(".bt_bb_dialog_enter_layout").html()),window.bt_bb_dialog.hide()})}},function(t,e,i){"use strict";window.bt_bb_add_horizontal=function(t,e){let i=jQuery;if(void 0!==e){for(var b=[],a=function(t,e){b.push(t);var i=!1;if(""==(t=t.replace(/\s/gm,""))&&e>0)i=!1;else if(""==t)i=!0;else{var a=t.split("+");if(a.length>12)i=!0;else{var n=0,o=[],_=[];for(let t=0;t<a.length;t++){var r=a[t].split("/");if(2!=r.length){i=!0;break}var s=parseInt(r[0]);o.push(s);var d=parseInt(r[1]);if(_.push(d),s<1||s>12||d<1||d>12){i=!0;break}}if(!i){for(let t=0;t<o.length;t++){var l=12*o[t]/_[t];if(!Number.isInteger(l)&&window.bt_bb_custom_elements||!Number.isInteger(l)&&!Number.isInteger(l/2.4)){i=!0;break}n+=l}(12!=n&&0==e||!Number.isInteger(n/12))&&(i=!0)}}}return!i},n=function(t){return(t.match(/\+/g)||[]).length},o=!1,_=0;_<e.length;_++)if(!a(e[_],_)){o=!0;break}if(i(".bt_bb_dialog_enter_layout").parent().removeClass("bt_bb_layout_error_alert"),o)return i(".bt_bb_dialog_enter_layout").eq(_).parent().addClass("bt_bb_layout_error_alert"),setTimeout(function(){alert(window.bt_bb_text.layout_error)},300),!1;var r=n(e[0]);for(let t=1;t<e.length;t++){let b=n(e[t]);if(r!=b&&b>0)return i(".bt_bb_dialog_enter_layout").parent().removeClass("bt_bb_layout_error_alert"),i(".bt_bb_dialog_enter_layout").eq(t).parent().addClass("bt_bb_layout_error_alert"),setTimeout(function(){alert(window.bt_bb_text.number_columns)},300),!1}var s=window.bt_bb_from,d=b[0].split("+"),l=b[1].split("+"),c=b[2].split("+"),p=b[3].split("+"),u=b[4].split("+");for(let b=0;b<t.children.length;b++){if(s.bt_ends_with(t.children[b].key)){var w=t.children[b].children.length;if(w>0)if(d.length>=w){for(let e=0;e<w;e++){for(var h in window.bt_bb_map[window.bt_bb_base].accept);var m=window.bt_bb_map[h].width_param;(v=attr_to_obj(t.children[b].children[e].attr))[m]=d[e],v.width_lg=l[e],v.width_md=c[e],v.width_sm=p[e],v.width_xs=u[e],t.children[b].children[e].attr=JSON.stringify(v)}for(let e=w;e<d.length;e++){var f={};for(var h in window.bt_bb_map[window.bt_bb_base].accept);f.title=h,f.base=h,f.key=bt_bb_get_key(),f.children=[];m=window.bt_bb_map[h].width_param;f.attr='{"'+m+'":'+bt_bb_json_encode(d[e])+', "width_lg":'+bt_bb_json_encode(l[e])+', "width_md":'+bt_bb_json_encode(c[e])+', "width_sm":'+bt_bb_json_encode(p[e])+', "width_xs":'+bt_bb_json_encode(u[e])+"}";var v=attr_to_obj(f.attr);void 0!==window.bt_bb_map[f.base]&&void 0!==window.bt_bb_map[f.base].params&&i.each(window.bt_bb_map[f.base].params,function(t,e){e.hasOwnProperty("value")&&"string"==typeof e.value?v[e.param_name]=bt_bb_special_char_encode(e.value):e.hasOwnProperty("value")&&e.hasOwnProperty("default")&&(v[e.param_name]=e.default)}),f.attr=JSON.stringify(v),bt_bb_insert_inside(t,window.bt_bb_from,f)}}else{for(let e=0;e<d.length;e++){for(var h in window.bt_bb_map[window.bt_bb_base].accept);m=window.bt_bb_map[h].width_param;(v=attr_to_obj(t.children[b].children[e].attr))[m]=d[e],v.width_lg=l[e],v.width_md=c[e],v.width_sm=p[e],v.width_xs=u[e],t.children[b].children[e].attr=JSON.stringify(v)}bt_bb_delete_obj(t,t.children[b].children[d.length].key,w-d.length)}else for(let e=0;e<d.length;e++){f={};for(var h in window.bt_bb_map[window.bt_bb_base].accept);f.title=h,f.base=h,f.key=bt_bb_get_key(),f.children=[];m=window.bt_bb_map[h].width_param;f.attr='{"'+m+'":'+bt_bb_json_encode(d[e])+', "width_lg":'+bt_bb_json_encode(l[e])+', "width_md":'+bt_bb_json_encode(c[e])+', "width_sm":'+bt_bb_json_encode(p[e])+', "width_xs":'+bt_bb_json_encode(u[e])+"}";v=attr_to_obj(f.attr);void 0!==window.bt_bb_map[f.base]&&void 0!==window.bt_bb_map[f.base].params&&i.each(window.bt_bb_map[f.base].params,function(t,e){e.hasOwnProperty("value")&&"string"==typeof e.value?v[e.param_name]=bt_bb_special_char_encode(e.value):e.hasOwnProperty("value")&&e.hasOwnProperty("default")&&(v[e.param_name]=e.default)}),f.attr=JSON.stringify(v),bt_bb_insert_inside(t,window.bt_bb_from,f)}return window.bt_bb_action="refresh",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event"),!0}if(!0===bt_bb_add_horizontal(t.children[b],e))return!0}}else window.bt_bb_dialog.show("add_horizontal")}},function(t,e,i){"use strict";window.bt_bb_add_horizontal_classic=function(t,e){jQuery;if(void 0!==e){var i=!1;if(""==(e=e.replace(/\s/gm,"").replace(/<\/?[^>]+(>|$)/gm,"")))i=!0;else{var b=e.split("+");if(b.length>12)i=!0;else{for(var a=0,n=[],o=[],_=0;_<b.length;_++){var r=b[_].split("/");if(2!=r.length){i=!0;break}var s=parseInt(r[0]);n.push(s);var d=parseInt(r[1]);if(o.push(d),s<1||s>12||d<1||d>12){i=!0;break}}if(!i){for(var l=0;l<n.length;l++){var c=12*n[l]/o[l];if(c!=Math.floor(c)&&(2.4!=c||window.bt_bb_custom_elements)){i=!0;break}a+=c}12!=a&&(i=!0)}}}if(i)return void alert(window.bt_bb_text.layout_error);var p=window.bt_bb_from;for(_=0;_<t.children.length;_++){if(p.bt_ends_with(t.children[_].key)){var u=t.children[_].children.length;if(u>0)if(b.length>=u){for(l=0;l<u;l++){for(var w in window.bt_bb_map[window.bt_bb_base].accept);var h=window.bt_bb_map[w].width_param;(f=attr_to_obj(t.children[_].children[l].attr))[h]=b[l],t.children[_].children[l].attr=JSON.stringify(f)}for(l=u;l<b.length;l++){var m={};for(var w in window.bt_bb_map[window.bt_bb_base].accept);m.title=w,m.base=w,m.key=bt_bb_get_key(),m.children=[];h=window.bt_bb_map[w].width_param;m.attr='{"'+h+'":'+bt_bb_json_encode(b[l])+"}",bt_bb_insert_inside(t,window.bt_bb_from,m)}}else{for(l=0;l<b.length;l++){for(var w in window.bt_bb_map[window.bt_bb_base].accept);var f;h=window.bt_bb_map[w].width_param;(f=attr_to_obj(t.children[_].children[l].attr))[h]=b[l],t.children[_].children[l].attr=JSON.stringify(f)}bt_bb_delete_obj(t,t.children[_].children[b.length].key,u-b.length)}else for(l=0;l<b.length;l++){m={};for(var w in window.bt_bb_map[window.bt_bb_base].accept);m.title=w,m.base=w,m.key=bt_bb_get_key(),m.children=[];h=window.bt_bb_map[w].width_param;m.attr='{"'+h+'":'+bt_bb_json_encode(b[l])+"}",bt_bb_insert_inside(t,window.bt_bb_from,m)}return window.bt_bb_action="refresh",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event"),!0}if(!0===bt_bb_add_horizontal_classic(t.children[_],e))return!0}}else window.bt_bb_dialog.show("add_horizontal")}},function(t,e,i){"use strict";window.bt_bb_resize_h_helper=function(t){"_root"==t.title&&(t=t.children);for(let l=0;l<t.length;l++){if(void 0!==window.bt_bb_map[t[l].title]&&"horizontal"==window.bt_bb_map[t[l].title].container&&void 0!==t[l].children){var e=!1,i=!1,b=[],a=[],n=t[l].children.length;for(let i=0;i<n;i++){if(void 0===window.bt_bb_map[t[l].children[i].title]||void 0===window.bt_bb_map[t[l].children[i].title].width_param){e=!0;break}var o=window.bt_bb_map[t[l].children[i].title].width_param;void 0===t[l].children[i].attr&&(t[l].children[i].attr="{}"),(s=attr_to_obj(t[l].children[i].attr)).hasOwnProperty(o)||(s[o]="1/12");var _=s[o].split("/");b.push(parseInt(_[0])),a.push(parseInt(_[1]))}var r=0;for(let t=0;t<b.length;t++){if((d=12*b[t]/a[t])!=Math.floor(d)&&(2.4!=d||window.bt_bb_custom_elements)){i=!0;break}r+=d}if(!e&&(12!=r||i))for(let e=0;e<n;e++){var s;o=window.bt_bb_map[t[l].children[e].title].width_param;(s=attr_to_obj(t[l].children[e].attr))[o]="1/"+n,12==n?(s.width_lg="1/6",s.width_md="1/1",s.width_sm="1/1",s.width_xs="1/1"):6==n?(s.width_lg="1/3",s.width_md="1/1",s.width_sm="1/1",s.width_xs="1/1"):5==n?(s.width_lg="1/5",s.width_md="1/1",s.width_sm="1/1",s.width_xs="1/1"):4==n?(s.width_lg="1/4",s.width_md="1/2",s.width_sm="1/2",s.width_xs="1/1"):3==n?(s.width_lg="1/3",s.width_md="1/1",s.width_sm="1/1",s.width_xs="1/1"):2==n?(s.width_lg="1/2",s.width_md="1/2",s.width_sm="1/2",s.width_xs="1/1"):(s.width_lg="1/1",s.width_md="1/1",s.width_sm="1/1",s.width_xs="1/1"),b[e]=1,a[e]=n,t[l].children[e].attr=JSON.stringify(s)}i=!1;for(let t=0;t<b.length;t++){var d;if((d=12*b[t]/a[t])!=Math.floor(d)&&(2.4!=d||window.bt_bb_custom_elements)){i=!0;break}}t[l].has_alert=i?"bt_bb_item_alert":void 0}void 0!==t[l].children&&bt_bb_resize_h(t[l].children)}}},function(t,e,i){"use strict";window.bt_bb_resize_h_helper_classic=function(t){"_root"==t.title&&(t=t.children);for(var e=0;e<t.length;e++){if(void 0!==window.bt_bb_map[t[e].title]&&"horizontal"==window.bt_bb_map[t[e].title].container&&void 0!==t[e].children){for(var i=!1,b=!1,a=[],n=[],o=0;o<t[e].children.length;o++){if(void 0===window.bt_bb_map[t[e].children[o].title]||void 0===window.bt_bb_map[t[e].children[o].title].width_param){i=!0;break}var _=window.bt_bb_map[t[e].children[o].title].width_param;void 0===t[e].children[o].attr&&(t[e].children[o].attr="{}"),(l=attr_to_obj(t[e].children[o].attr)).hasOwnProperty(_)||(l[_]="1/12");var r=l[_].split("/");a.push(parseInt(r[0])),n.push(parseInt(r[1]))}for(var s=0,d=0;d<a.length;d++){if((c=12*a[d]/n[d])!=Math.floor(c)&&(2.4!=c||window.bt_bb_custom_elements)){b=!0;break}s+=c}if(!i&&(12!=s||b))for(o=0;o<t[e].children.length;o++){var l;_=window.bt_bb_map[t[e].children[o].title].width_param;(l=attr_to_obj(t[e].children[o].attr))[_]="1/"+t[e].children.length,a[o]=1,n[o]=t[e].children.length,t[e].children[o].attr=JSON.stringify(l)}b=!1;for(d=0;d<a.length;d++){var c;if((c=12*a[d]/n[d])!=Math.floor(c)&&(2.4!=c||window.bt_bb_custom_elements)){b=!0;break}}t[e].has_alert=b?"bt_bb_item_alert":void 0}void 0!==t[e].children&&bt_bb_resize_h(t[e].children)}}},function(t,e,i){"use strict";var b,a,n,o;window.bt_bb={},window.bt_bb.cache={},window.bt_bb.min_width=200,window.bt_bb.padding=10,window.bt_bb_state=[],window.bt_bb_state_pointer=-1,window.bt_bb_state_current=null,window.bt_bb_dirty=!1,b=jQuery,a=BTReact.createClass({render:function(){var t="",e="bt_bb_wrap",i="bt_bb_item";(void 0!==this.props.data.has_alert&&(i+=" bt_bb_item_alert"),void 0!==this.props.data.extra_class&&(i=i+" "+this.props.data.extra_class),void 0!==this.props.data.attr)&&("true"===(m=JSON.parse(this.props.data.attr)).bt_bb_toggled&&(i+=" bt_bb_toggled"));if(void 0!==window.bt_bb_map[this.props.data.base]&&(void 0!==window.bt_bb_map[this.props.data.base].container&&"horizontal"==window.bt_bb_map[this.props.data.base].container&&(t="bt_bb_horizontal"),void 0!==window.bt_bb_map[this.props.data.base].highlight&&!0===window.bt_bb_map[this.props.data.base].highlight&&(i+=" bt_bb_item_highlight"),void 0!==window.bt_bb_map[this.props.data.base].icon&&(i=i+" bt_bb_icon "+window.bt_bb_map[this.props.data.base].icon),void 0!==window.bt_bb_map[this.props.data.base].width_param&&void 0!==this.props.data.attr)){var n=(m=JSON.parse(this.props.data.attr))[window.bt_bb_map[this.props.data.base].width_param];void 0!==n&&(n=n.split("/"),e=e+" bt_bb_is_width bt_bb_width bt_bb_width"+(n=Math.round(12*n[0]/n[1])))}var _=this.props.data.key,r=this.props.data.base,s=this.props.data.children.map(function(t,e){return void 0===t.key&&(t.key="bt_bb_"+bt_bb_get_key()),BTReact.createElement(a,{key:t.key,data:t,p_key:_,p_base:r})});if(this.props.data.p_key=this.props.p_key,this.props.data.p_base=this.props.p_base,"_content"==this.props.data.base)return BTReact.createElement("div",{className:e},BTReact.createElement("div",{className:i,"data-base":this.props.data.base},BTReact.createElement("div",{className:"bt_bb_toolbar"},"]...[",BTReact.createElement(o,{has_params:"true"})),BTReact.createElement("div",{className:"bt_bb_content",dangerouslySetInnerHTML:{__html:window.switchEditors.wpautop(this.props.data.content)}})));var d=void 0!==window.bt_bb_map[this.props.data.base]&&void 0!==window.bt_bb_map[this.props.data.base].params&&window.bt_bb_map[this.props.data.base].params.length>0?"true":"false",l="";if("true"==d)for(var c=bt_bb_get_param(this.props.data.base,"params"),p=!1,u="",w=0;w<c.length;w++)if(void 0!==c[w].preview||void 0!==c[w].holder&&""!=c[w].holder){var h="";if(void 0!==this.props.data.attr)var m=JSON.parse(this.props.data.attr);if(void 0!==this.props.data.attr&&void 0!==m[c[w].param_name])h=m[c[w].param_name];else if("checkbox"==c[w].type||"checkbox_group"==c[w].type)h=void 0!==c[w].default?c[w].default:"";else if("object"==typeof c[w].value)if(void 0!==c[w].default)h=c[w].default;else{var f=Object.keys(c[w].value);h=c[w].value[f[0]]}else void 0!==c[w].value&&(h=c[w].value);if("attach_image"==c[w].type&&!p){u=this.props.data.key;var v=h,g=localStorage.getItem("bt_bb_cache_"+v);null!==g&&(void 0===window.bt_bb.cache[v]&&(window.bt_bb.cache[v]={}),window.bt_bb.cache[v].url=g),""==v?b("."+u+">.bt_bb_toolbar").css("background-image",""):void 0!==window.bt_bb.cache[v]?setTimeout(function(){b("."+u+">.bt_bb_toolbar").css("background-image","url("+window.bt_bb.cache[v].url+")")},100):b(window).load(function(){wp.media.ajax({data:{action:"get-attachment",id:v}}).done(function(t,e,i){if(void 0!==t.sizes){var a="";void 0!==t.sizes.thumbnail?a=t.sizes.thumbnail.url:void 0!==t.sizes.full&&t.sizes.full.width<=300&&t.sizes.full.height<=300&&(a=t.sizes.full.url),""!=a?(b("."+u+">.bt_bb_toolbar").css("background-image","url("+a+")"),window.bt_bb.cache[t.id]={},window.bt_bb.cache[t.id].url=a,localStorage.setItem("bt_bb_cache_"+t.id,a)):localStorage.removeItem("bt_bb_cache_"+t.id)}})}),h="",p=!0}if("iconpicker"==c[w].type)if("string"==typeof h&&""!=h){var y=h;h='<span class="bt_bb_icon_preview bt_bb_icon_preview_'+y.slice(0,-5)+'" data-icon-code="&#x'+y.substr(-4)+'"></span>'}else h="";else if("colorpicker"==c[w].type)h='<span style="color:'+h+';font-weight: bold;">'+h+"</span>";else if("textarea_object"==c[w].type)try{h=window.bt_bb_b64DecodeUnicode(h)}catch(t){}else void 0!==window["bt_bb_cf_"+c[w].type+"_param_value_preview"]&&(h=window["bt_bb_cf_"+c[w].type+"_param_value_preview"](h));"string"==typeof h&&(h=h.split("%$%")[0]),h=void 0!==c[w].preview_strong?'<span class="bt_bb_preview_strong">'+h+"</span>":'<span class="bt_bb_preview_normal">'+h+"</span>",l+=bt_bb_special_char_decode(h)}var k=void 0!==window.bt_bb_map[this.props.data.base]&&1==window.bt_bb_map[this.props.data.base].toggle?"true":"false",x=this.props.data.base;if(void 0!==window.bt_bb_map[this.props.data.base]&&void 0!==window.bt_bb_map[this.props.data.base].name&&"1"!=window.bt_bb_settings.tag_as_name&&(x=window.bt_bb_map[this.props.data.base].name),l='<span class="bt_bb_preview_name">'+x+"</span>"+l,p&&(i=i+" bt_bb_image_preview "+u),void 0!==window.bt_bb_map[this.props.data.base]&&void 0!==window.bt_bb_map[this.props.data.base].container){var C=window.bt_bb_map[this.props.data.base].container;return BTReact.createElement("div",{className:e},BTReact.createElement("div",{className:i,"data-base":this.props.data.base,"data-container":C},BTReact.createElement("div",{className:"bt_bb_toolbar"},BTReact.createElement("span",{className:"bt_bb_preview",dangerouslySetInnerHTML:{__html:l}}),BTReact.createElement(o,{container:C,mapped:"true",has_params:d,toggle:k})),BTReact.createElement("div",{className:t},s)))}var E=window.bt_bb_map[this.props.data.base],S="bt_bb_toolbar",D="true";return null!=E&&!1!==E.is_mapped||(D="false",window.bt_bb_map[this.props.data.base]={},window.bt_bb_map[this.props.data.base].is_mapped=!1,window.bt_bb_map[this.props.data.base].show_settings_on_create=!1,window.bt_bb_map[this.props.data.base].base=this.props.data.base,window.bt_bb_map[this.props.data.base].description=this.props.data.base,window.bt_bb_map[this.props.data.base].name=this.props.data.base,window.bt_bb_map[this.props.data.base].params=[],S="bt_bb_toolbar bt_bb_alert"),BTReact.createElement("div",{className:e},BTReact.createElement("div",{className:i,"data-base":this.props.data.base},BTReact.createElement("div",{className:S},""!=l?BTReact.createElement("span",{className:"bt_bb_preview",dangerouslySetInnerHTML:{__html:l}}):"",BTReact.createElement(o,{has_params:d,toggle:k,mapped:D})),BTReact.createElement("div",{className:t},s)))}}),n=BTReact.createClass({getInitialState:function(){return{data:this.props.data}},render:function(){var t=this.state.data.children.map(function(t,e){return BTReact.createElement(a,{key:t.key,data:t})});return BTReact.createElement("div",{className:"bt_bb_item_list"},t)},componentDidMount:function(){this.getDOMNode().addEventListener("bt_bb_event",this.handle),window.bt_bb_state_current=this.state.data},componentDidUpdate:function(){var t=0;b(".bt_bb_item_list > .bt_bb_wrap").each(function(){t++;var e=b(this).find(".bt_bb_preview_name").first().data("title");void 0===e&&(e=b(this).find(".bt_bb_preview_name").first().html(),b(this).find(".bt_bb_preview_name").first().data("title",e)),b(this).find(".bt_bb_preview_name").first().html('<span class="bt_bb_order" title="'+window.bt_bb_text.preview+'"><span class="bt_bb_order_inner">'+t+"</span></span>"+e)})},componentWillUnmount:function(){this.getDOMNode().removeEventListener("bt_bb_event",this.handle)},handle:function(t){if(void 0===window.bt_bb_alo[window.bt_bb_action]?window.bt_bb_alo[window.bt_bb_action]=1:window.bt_bb_alo[window.bt_bb_action]++,window.bt_bb_callback_action=null,"move_up"==window.bt_bb_action){var e=bt_bb_get_obj_copy_by_id(this.state.data,window.bt_bb_from);bt_bb_insert_before(this.state.data,window.bt_bb_to,e),window.bt_bb_ctrl||bt_bb_delete_obj(this.state.data,window.bt_bb_from)}else if("move_down"==window.bt_bb_action){e=bt_bb_get_obj_copy_by_id(this.state.data,window.bt_bb_from);bt_bb_insert_after(this.state.data,window.bt_bb_to,e),window.bt_bb_ctrl||bt_bb_delete_obj(this.state.data,window.bt_bb_from)}else if("move_inside"==window.bt_bb_action)bt_bb_insert_inside(this.state.data,window.bt_bb_to,bt_bb_get_obj_copy_by_id(this.state.data,window.bt_bb_from))&&(window.bt_bb_ctrl||bt_bb_delete_obj(this.state.data,window.bt_bb_from));else if("delete"==window.bt_bb_action)bt_bb_delete_obj(this.state.data,window.bt_bb_from);else if("add_root"==window.bt_bb_action||"add_root_from_dialog"==window.bt_bb_action){if("add_root"==window.bt_bb_action){if(void 0!==(a=bt_bb_add_root(this.state.data))&&void 0!==window.bt_bb_map[a[1]].auto_add){var i={};i.title=window.bt_bb_map[a[1]].auto_add,i.base=window.bt_bb_map[a[1]].auto_add,i.key=bt_bb_get_key(),i.children=[],bt_bb_insert_inside(this.state.data,a[0],i)}}else var a=bt_bb_add_root(this.state.data,window.bt_bb_base);void 0!==a&&!1!==bt_bb_get_param(a[1],"show_settings_on_create")&&(window.bt_bb_from=a[0],window.bt_bb_callback_action="edit")}else if("add"==window.bt_bb_action||"add_from_dialog"==window.bt_bb_action){if("add"==window.bt_bb_action)a=bt_bb_add(this.state.data);else a=bt_bb_add(this.state.data,window.bt_bb_base);if(void 0!==a&&!1!==bt_bb_get_param(a[1],"show_settings_on_create"))window.bt_bb_from=a[0],window.bt_bb_callback_action="edit";else if(void 0!==a&&!0!==bt_bb_get_param(a[1],"show_settings_on_create")){var n,o=bt_bb_get_param(a[1],"accept"),_=0;for(n in o)o.hasOwnProperty(n)&&_++;void 0!==o&&!0===o._content&&1==_&&(window.bt_bb_from=a[0],window.bt_bb_base=a[1],window.bt_bb_callback_action="add")}}else if("add_horizontal"==window.bt_bb_action)window.bt_bb_custom_elements||!window.bt_bb_responsive_override_layout?bt_bb_add_horizontal_classic(this.state.data):bt_bb_add_horizontal(this.state.data);else if("edit"==window.bt_bb_action)bt_bb_edit(this.state.data,window.bt_bb_from);else if("clone"==window.bt_bb_action)bt_bb_clone(this.state.data,window.bt_bb_from);else if("update_state"==window.bt_bb_action)this.replaceState({data:window.bt_bb_state_current},window.bt_bb_state_callback);else if("copy"==window.bt_bb_action)bt_bb_copy(this.state.data,window.bt_bb_from),b(".bt_bb_cb_items").addClass("bt_bb_cb_items_flash").delay(500).queue(function(t){b(this).removeClass("bt_bb_cb_items_flash"),t()});else if("copy_plus"==window.bt_bb_action)bt_bb_copy_plus(this.state.data,window.bt_bb_from),b(".bt_bb_cb_items").addClass("bt_bb_cb_items_flash").delay(500).queue(function(t){b(this).removeClass("bt_bb_cb_items_flash"),t()});else if("paste"==window.bt_bb_action)bt_bb_paste(this.state.data,window.bt_bb_from);else if("paste_before"==window.bt_bb_action)bt_bb_paste(this.state.data,window.bt_bb_from,!0);else if("toggle_on"==window.bt_bb_action){var r={};void 0!==(s=bt_bb_get_obj_by_id(window.bt_bb_state_current,window.bt_bb_from)).attr&&(r=attr_to_obj(s.attr)),r.bt_bb_toggled="true",s.attr=JSON.stringify(r)}else if("toggle_off"==window.bt_bb_action){var s;r={};void 0!==(s=bt_bb_get_obj_by_id(window.bt_bb_state_current,window.bt_bb_from)).attr&&(r=attr_to_obj(s.attr)),r.bt_bb_toggled="false",s.attr=JSON.stringify(r)}null!=window.bt_bb_action&&"edit"!=window.bt_bb_action&&"copy"!=window.bt_bb_action&&"copy_plus"!=window.bt_bb_action&&(bt_bb_resize_h(this.state.data),"update_state"!=window.bt_bb_action&&(bt_bb_push_state(this.state.data),this.replaceState({data:this.state.data},window.bt_bb_state_callback)),this.state.data.children.length>=0&&"update_wp_editor"==window.bt_bb_action&&bt_bb_parse_data(this.state.data),"refresh_on_ready"!=window.bt_bb_action&&"update_wp_editor"!=window.bt_bb_action&&(window.bt_bb_dirty=!0),bt_bb_item_mousedown(),bt_bb_toolbar())}}),o=BTReact.createClass({render:function(){var t=window.bt_bb_text.add;return"horizontal"==this.props.container&&(t=window.bt_bb_text.edit_layout),BTReact.createElement("div",{className:"bt_bb_toolbar_tools"},"true"==this.props.toggle?BTReact.createElement("i",{className:"bt_bb_toggle",title:window.bt_bb_text.toggle}):"","vertical"==this.props.container?BTReact.createElement("i",{className:"bt_bb_add",title:t}):"","horizontal"==this.props.container?BTReact.createElement("i",{className:"bt_bb_add bt_bb_edit_layout",title:t}):"","true"==this.props.has_params?BTReact.createElement("i",{className:"bt_bb_edit",title:window.bt_bb_text.edit}):"",BTReact.createElement("i",{className:"bt_bb_clone",title:window.bt_bb_text.clone}),"true"==this.props.mapped?BTReact.createElement("i",{className:"bt_bb_copy",title:window.bt_bb_text.copy}):"","true"==this.props.mapped?BTReact.createElement("i",{className:"bt_bb_copy_plus",title:window.bt_bb_text.copy_plus}):"","true"==this.props.mapped?BTReact.createElement("i",{className:"bt_bb_paste",title:window.bt_bb_text.paste}):"",BTReact.createElement("i",{className:"bt_bb_delete",title:window.bt_bb_text.delete}))}}),window.bt_bb_resize_h=function(t){window.bt_bb_custom_elements||!window.bt_bb_responsive_override_layout?window.bt_bb_resize_h_helper_classic(t):window.bt_bb_resize_h_helper(t)},window.bt_bb_get_obj_copy_by_id=function(t,e){var i=bt_bb_get_obj_by_id(t,e),b=JSON.parse(JSON.stringify(i));return null!=b&&(b=bt_bb_set_new_keys(b)),b},window.bt_bb_set_new_keys=function(t){t.key=bt_bb_get_key();for(var e=0;e<t.children.length;e++)bt_bb_set_new_keys(t.children[e]);return t},window.bt_bb_delete_obj=function(t,e,i){if("_content"!=t.title)for(var b=0;b<t.children.length;b++){if(e.bt_ends_with(t.children[b].key)){void 0!==i?t.children.splice(b,i):t.children.splice(b,1);break}bt_bb_delete_obj(t.children[b],e,i)}},window.bt_bb_insert_before=function(t,e,i){if("_content"!=t.title)for(var b=0;b<t.children.length;b++){if(e.bt_ends_with(t.children[b].key)){t.children.splice(b,0,i);break}bt_bb_insert_before(t.children[b],e,i)}},window.bt_bb_insert_after=function(t,e,i){if("_content"!=t.title)for(var b=0;b<t.children.length;b++){if(e.bt_ends_with(t.children[b].key)){t.children.splice(b+1,0,i);break}bt_bb_insert_after(t.children[b],e,i)}},window.bt_bb_insert_inside=function(t,e,i){if("_content"!=t.title)for(var a=0;a<t.children.length;a++){if(e.bt_ends_with(t.children[a].key)&&void 0!==t.children[a].children){if(t.children[a].children.push(i),"paste"!=window.bt_bb_action&&"paste_before"!=window.bt_bb_action&&"move_inside"!=window.bt_bb_action&&void 0!==window.bt_bb_map[i.base]&&void 0!==window.bt_bb_map[i.base].auto_add){var n={};n.title=window.bt_bb_map[i.base].auto_add,n.base=window.bt_bb_map[i.base].auto_add,n.key=bt_bb_get_key(),n.children=[];var o={};void 0!==window.bt_bb_map[n.base]&&void 0!==window.bt_bb_map[n.base].params&&b.each(window.bt_bb_map[n.base].params,function(t,e){e.hasOwnProperty("value")&&"string"==typeof e.value?o[e.param_name]=bt_bb_special_char_encode(e):e.hasOwnProperty("value")&&e.hasOwnProperty("default")&&(o[e.param_name]=e.default)}),n.attr=JSON.stringify(o),i.children.push(n)}return!0}if(!0===bt_bb_insert_inside(t.children[a],e,i))return!0}},window.bt_bb_add_root=function(t,e){var i=[];if(void 0!==e?i.push(e):b.each(window.bt_bb_map,function(t,e){1==e.root&&i.push(e.base)}),1==i.length){var a={};a.title=i[0],a.base=i[0],a.key=bt_bb_get_key(),a.children=[];var n={};return void 0!==window.bt_bb_map[a.base]&&void 0!==window.bt_bb_map[a.base].params&&b.each(window.bt_bb_map[a.base].params,function(t,e){e.hasOwnProperty("value")&&"string"==typeof e.value?n[e.param_name]=bt_bb_special_char_encode(e.value):e.hasOwnProperty("value")&&e.hasOwnProperty("default")&&(n[e.param_name]=e.default)}),a.attr=JSON.stringify(n),t.children.push(a),[a.key,a.base]}i.length>1&&window.bt_bb_dialog.show("add_root")},window.bt_bb_add=function(t,e){var i=[];if(void 0!==e?i.push(e):(b.each(window.bt_bb_map,function(t,e){var b;void 0!==window.bt_bb_map[window.bt_bb_base].accept&&(b=window.bt_bb_map[window.bt_bb_base].accept[e.base]),(!0===b||!0===window.bt_bb_map[window.bt_bb_base].accept_all&&!1!==b||void 0!==window.bt_bb_map[e.base].as_child&&-1!=window.bt_bb_map[e.base].as_child.only.indexOf(window.bt_bb_base))&&(void 0===window.bt_bb_map[e.base].as_child||void 0!==window.bt_bb_map[e.base].as_child&&-1!=window.bt_bb_map[e.base].as_child.only.indexOf(window.bt_bb_base))&&i.push(e.base)}),void 0!==window.bt_bb_map[window.bt_bb_base].accept&&!0===window.bt_bb_map[window.bt_bb_base].accept._content&&(i=[]).push("_content")),1==i.length){var a={};a.title=i[0],a.base=i[0],"_content"==a.base&&(a.content=""),a.key=bt_bb_get_key(),a.children=[];var n={};return void 0!==window.bt_bb_map[a.base]&&void 0!==window.bt_bb_map[a.base].params&&b.each(window.bt_bb_map[a.base].params,function(t,e){e.hasOwnProperty("value")&&"string"==typeof e.value?"textarea_object"==e.type?n[e.param_name]=e.value:n[e.param_name]=bt_bb_special_char_encode(e.value):e.hasOwnProperty("value")&&e.hasOwnProperty("default")&&(n[e.param_name]=e.default)}),a.attr=JSON.stringify(n),bt_bb_insert_inside(t,window.bt_bb_from,a),[a.key,a.base]}i.length>1&&window.bt_bb_dialog.show("add")},window.bt_bb_edit=function(t,e){for(var i=0;i<t.children.length;i++){if(e.bt_ends_with(t.children[i].key)){"_content"==t.children[i].title?(window.bt_bb_content=t.children[i].content,window.bt_bb_dialog.show("edit_content")):window.bt_bb_dialog.show("edit");break}bt_bb_edit(t.children[i],e)}},window.bt_bb_clone=function(t,e){b(".bt_bb_toolbar_tools").css("transition","all 0s");for(var i=0;i<t.children.length;i++){if(e.bt_ends_with(t.children[i].key)){if("_root"==t.title||void 0===window.bt_bb_map[t.base]||"horizontal"!=window.bt_bb_map[t.base].container||"horizontal"==window.bt_bb_map[t.base].container&&t.children.length<12){var a=bt_bb_get_obj_copy_by_id(t,e);t.children.splice(i+1,0,a)}break}bt_bb_clone(t.children[i],e)}},window.bt_bb_init_number_items=function(){window.bt_bb_cb_items=localStorage.getItem("bt_bb_cb_items"),null===window.bt_bb_cb_items&&(window.bt_bb_cb_items=0),b(".bt_bb_cb_items").html(window.bt_bb_cb_items)},window.bt_bb_set_number_items=function(t){localStorage.setItem("bt_bb_cb_items",t),b(".bt_bb_cb_items").html(t),window.bt_bb_cb_items=t},window.bt_bb_allowed=function(t,e){if(void 0===e)return!1;var i=window.bt_bb_map[e],b=!1;return(void 0!==i.accept&&!0===i.accept[t]||void 0!==i.accept&&void 0===i.accept[t]&&!0===i.accept_all||void 0===i.accept&&!0===i.accept_all)&&(b=!0),b},window.bt_bb_cb_import=function(t){for(var e=decodeURIComponent(window.bt_bb_b64DecodeUnicode(t)),i=JSON.parse(e),b=1;b<=i.length;b++)localStorage.setItem("bt_bb_cb_"+b,decodeURIComponent(window.bt_bb_b64DecodeUnicode(i[b-1].bt_bb_cb))),bt_bb_set_number_items(i.length)},window.bt_bb_copy=function(t,e){if(window.bt_bb_cb_items>1)for(var i=2;i<=window.bt_bb_cb_items;i++)localStorage.removeItem("bt_bb_cb_"+i);t=bt_bb_get_obj_by_id(t,e),localStorage.setItem("bt_bb_cb_1",JSON.stringify(t)),bt_bb_set_number_items(1)},window.bt_bb_copy_plus=function(t,e){var i=bt_bb_get_obj_by_id(t,e);if(0==window.bt_bb_cb_items)localStorage.setItem("bt_bb_cb_1",JSON.stringify(i)),bt_bb_set_number_items(1);else{var b=JSON.parse(localStorage.getItem("bt_bb_cb_1")),a=!1;void 0!==i.p_base?a=bt_bb_allowed(b.base,i.p_base):void 0!==window.bt_bb_map[i.base].root&&void 0!==window.bt_bb_map[b.base].root&&(a=!0),a?(window.bt_bb_cb_items++,localStorage.setItem("bt_bb_cb_"+window.bt_bb_cb_items,JSON.stringify(i)),bt_bb_set_number_items(window.bt_bb_cb_items)):alert(window.bt_bb_text.not_allowed)}},window.bt_bb_paste=function(t,e,i){if(window.bt_bb_cb_items>0){var b=bt_bb_get_obj_by_id(t,e),a=JSON.parse(localStorage.getItem("bt_bb_cb_1"));if(void 0!==window.bt_bb_map[b.base].root&&void 0!==window.bt_bb_map[a.base].root)for(var n=window.bt_bb_cb_items;n>=1;n--)a=JSON.parse(localStorage.getItem("bt_bb_cb_"+n)),a=bt_bb_set_new_keys(a),i?bt_bb_insert_before(t,e,a):bt_bb_insert_after(t,e,a);else if(bt_bb_allowed(a.base,b.p_base))if(i)for(n=1;n<=window.bt_bb_cb_items;n++)a=JSON.parse(localStorage.getItem("bt_bb_cb_"+n)),a=bt_bb_set_new_keys(a),bt_bb_insert_before(t,e,a);else for(n=window.bt_bb_cb_items;n>=1;n--)a=JSON.parse(localStorage.getItem("bt_bb_cb_"+n)),a=bt_bb_set_new_keys(a),bt_bb_insert_after(t,e,a);else if(bt_bb_allowed(a.base,b.base))for(n=1;n<=window.bt_bb_cb_items;n++)a=JSON.parse(localStorage.getItem("bt_bb_cb_"+n)),a=bt_bb_set_new_keys(a),bt_bb_insert_inside(t,e,a);else alert(window.bt_bb_text.not_allowed)}},window.bt_bb_paste_main_toolbar=function(){var t=JSON.parse(localStorage.getItem("bt_bb_cb_1"));if(void 0!==window.bt_bb_map[t.base].root){for(var e=1;e<=window.bt_bb_cb_items;e++)t=JSON.parse(localStorage.getItem("bt_bb_cb_"+e)),t=bt_bb_set_new_keys(t),window.bt_bb_state_current.children.push(t);bt_bb_event("refresh")}else alert(window.bt_bb_text.not_allowed)},window.bt_bb_dialog={},window.bt_bb_dialog.show=function(t){b("#bt_bb_front_end_preview").hide(),window.bt_bb_dialog.is_showing=!0;var e="";if("add_root"==t){var i=window.bt_bb_text.add_element,a=[];b.each(window.bt_bb_map,function(t,e){1==e.root&&a.push({base:e.base,name:e.name,description:e.description,icon:e.icon})}),a.sort(function(t,e){return t.name.toLowerCase().localeCompare(e.name.toLowerCase())}),b.each(a,function(t,i){e+='<div class="bt_bb_dialog_item bt_bb_dialog_add_element'+i.icon!==void 0?" "+i.icon:'" data-base="'+i.base+'"><b>'+i.name+"</b><i>"+i.description+"</i></div>"}),b("#bt_bb_dialog .bt_bb_dialog_content").html(e),b(".bt_bb_dialog_add_element").click(function(t){window.bt_bb_base=b(this).data("base"),window.bt_bb_dialog.hide(),bt_bb_event("add_root_from_dialog")})}else if("add"==t){i=window.bt_bb_text.add_element,a=[],b.each(window.bt_bb_map,function(t,e){var i;void 0!==window.bt_bb_map[window.bt_bb_base].accept&&(i=window.bt_bb_map[window.bt_bb_base].accept[e.base]),(!0===i||!0===window.bt_bb_map[window.bt_bb_base].accept_all&&!1!==i||void 0!==window.bt_bb_map[e.base].as_child&&-1!=window.bt_bb_map[e.base].as_child.only.indexOf(window.bt_bb_base))&&(void 0===window.bt_bb_map[e.base].as_child||void 0!==window.bt_bb_map[e.base].as_child&&-1!=window.bt_bb_map[e.base].as_child.only.indexOf(window.bt_bb_base))&&!1!==window.bt_bb_map[e.base].is_mapped&&a.push({base:e.base,name:e.name,description:e.description,icon:e.icon})}),a.sort(function(t,e){return t.name.toLowerCase().localeCompare(e.name.toLowerCase())});var n="";n+='<div class="bt_bb_dialog_item bt_bb_add_filter_container">',n+='<input type="text" class="bt_bb_filter" placeholder="'+window.bt_bb_text.filter+'">',n+="</div>",b("#bt_bb_dialog .bt_bb_dialog_header_tools").append(n);var o,_,r=document.createDocumentFragment();b.each(a,function(t,e){m=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item bt_bb_dialog_add_element"+(void 0!==e.icon?" bt_bb_icon "+e.icon:"")],["data-base",e.base]]),o=bt_bb_create_dom_element("b",[]),_=document.createTextNode(e.name),o.appendChild(_),m.appendChild(o),w=bt_bb_create_dom_element("i",[]),_=document.createTextNode(e.description),w.appendChild(_),m.appendChild(w),r.appendChild(m)}),b("#bt_bb_dialog .bt_bb_dialog_content")[0].appendChild(r),b(".bt_bb_dialog_add_element").click(function(t){window.bt_bb_base=b(this).data("base"),window.bt_bb_dialog.hide(),bt_bb_event("add_from_dialog")}),b(".bt_bb_filter").keyup(function(t){var e=b(this).val();b(".bt_bb_dialog_item").not(".bt_bb_add_filter_container").each(function(){var t=b(this).html().replace(/(<([^>]+)>)/gi,"");new RegExp(e,"i").test(t)?b(this).show():b(this).hide()})})}else if("add_horizontal"==t)i=window.bt_bb_text.edit_layout,window.bt_bb_custom_elements||!window.bt_bb_responsive_override_layout?window.bt_bb_edit_layout_classic():window.bt_bb_edit_layout();else if("edit_content"==t)i=window.bt_bb_text.edit_content,b("#bt_bb_dialog").addClass("bt_bb_dialog_tinymce_container"),b(".bt_bb_dialog_tinymce").show(),b(".bt_bb_dialog_button").unbind("click"),b(".bt_bb_dialog_button").click(function(){window.switchEditors.go("bt_bb_tinymce","tmce");var t=bt_bb_get_obj_by_id(window.bt_bb_state_current,window.bt_bb_from);t.content=tinyMCE.get("bt_bb_tinymce").getContent(),t.content.startsWith("<p>[")&&t.content.endsWith("]</p>")&&(t.content=t.content.substring(3),t.content=t.content.substring(0,t.content.length-4)),window.bt_bb_action="refresh",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event"),window.bt_bb_dialog.hide()}),b("#bt_bb_dialog").css("visibility","visible"),b("#bt_bb_dialog .mce-i-resize").show();else if("edit"==t){i=window.bt_bb_text.edit;var s=bt_bb_get_obj_by_id(window.bt_bb_state_current,window.bt_bb_from),d={};if(void 0!==s.attr&&(d=attr_to_obj(s.attr)),void 0!==window.bt_bb_map[s.base]){i=i+" "+window.bt_bb_map[s.base].name,b("#bt_bb_dialog").removeClass(),b("#bt_bb_dialog").addClass("bt_bb_dialog "+s.base);var l=window.bt_bb_map[s.base].params;if(void 0!==l){r=document.createDocumentFragment();var c=new Array,p="",u="";window.bt_bb.param_groups=[];for(var w=0;w<l.length;w++){e="";var h="";if(void 0!==d[l[w].param_name]?h=d[l[w].param_name]:d[l[w].param_name]="",p=void 0!==l[w].group?l[w].group:window.bt_bb_text.general,u=" bt_bb_group_"+window.bt_bb_b64EncodeUnicode(p).replace(/[=+\/]/g,""),-1==window.bt_bb.param_groups.indexOf(p)&&window.bt_bb.param_groups.push(p),"attach_images"==l[w].type||"attach_image"==l[w].type||"textfield"==l[w].type||"datetime-local"==l[w].type||"textarea"==l[w].type||"textarea_object"==l[w].type||"dropdown"==l[w].type||"dropdown_color"==l[w].type||"dropdown_color"==l[w].type||"iconpicker"==l[w].type||"colorpicker"==l[w].type||"link"==l[w].type||"checkbox"==l[w].type||"checkbox_group"==l[w].type)var m=window.bt_bb_get_dialog_param({param:l[w],attr_value:h,group_class:u,base:s.base});else if("hidden"==l[w].type){var f=new Object;f.name=l[w].param_name,f.value=l[w].value,c.push(f)}else if(void 0!==window["bt_bb_cf_"+l[w].type+"_content"]){m=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item"+u],["data-param_name",l[w].param_name],["data-type",l[w].type]]);var v={};v.param_heading=l[w].heading,v.param_value=l[w].value,v.param_name=l[w].param_name,v.val=h,v.base=s.base,m.innerHTML=window["bt_bb_cf_"+l[w].type+"_content"](v)}"hidden"!=l[w].type&&r.appendChild(m)}b("#bt_bb_dialog").data("hidden",JSON.stringify(c)),b("#bt_bb_dialog .bt_bb_dialog_content")[0].appendChild(r),b(".bt_bb_color_picker").wpColorPicker(),window.bt_bb_search_link_init(),window.bt_bb_iconpicker_init(),window.bt_bb_image_sortable(b('#bt_bb_dialog .bt_bb_dialog_item[data-type="attach_images"] .bt_bb_dialog_image_container'),d),b("#bt_bb_dialog .bt_bb_dialog_image_container").on("click",".fa-times",function(t){window.bt_bb_delete_images(this,d)}),b(".bt_bb_dialog_item").on("click",".bt_bb_dialog_select_images_button",function(t){window.bt_bb_select_images(this,d)})}}window.bt_bb.param_groups.length>0&&b(".bt_bb_dialog_item").hide(),b.each(window.bt_bb.param_groups,function(t,e){var i="bt_bb_group_tab";0==t&&(i="bt_bb_group_tab bt_bb_group_tab_active",b(".bt_bb_group_"+window.bt_bb_b64EncodeUnicode(e).replace(/[=+\/]/g,"")).show()),b(".bt_bb_dialog_header_tools").append('<span class="'+i+'">'+e+"</span>")}),b("#bt_bb_dialog .bt_bb_group_tab").click(function(t){var e=b(this).html();b(".bt_bb_dialog_item").hide(),b(".bt_bb_group_"+window.bt_bb_b64EncodeUnicode(e).replace(/[=+\/]/g,"")).show(),b(".bt_bb_group_tab").removeClass("bt_bb_group_tab_active"),b(this).addClass("bt_bb_group_tab_active"),window.bt_bb_resize_dialog()}),b("#bt_bb_dialog").append('<input type="button" class="bt_bb_dialog_button bt_bb_edit button button-small" value="'+window.bt_bb_text.submit+'">'),b("#bt_bb_dialog .bt_bb_dialog_button").click(function(t){b("#bt_bb_dialog .bt_bb_dialog_item").each(function(){var t=b(this).data("param_name"),e=b(this).data("type"),i=window.bt_bb_get_edit_item_value(t,e,b(this));void 0!==i&&(d[t]=i)});for(var e=JSON.parse(b("#bt_bb_dialog").data("hidden")),i=0;i<e.length;i++)d[""+e[i].name]=e[i].value;s.attr=JSON.stringify(d),window.bt_bb_dialog.hide(),window.bt_bb_action="refresh",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")})}else if("manage_cb"==t)i=window.bt_bb_text.manage_cb,e+='<div class="bt_bb_dialog_item">',e+='<input type="text" class="bt_bb_impex_input">',e+="</div>",b("#bt_bb_dialog .bt_bb_dialog_content").html(e),b("#bt_bb_dialog").append('<div class="bt_bb_dialog_inline_buttons"><input type="button" class="bt_bb_dialog_button bt_bb_edit button button-small bt_bb_button_export" value="'+window.bt_bb_text.export+'"><input type="button" class="bt_bb_dialog_button bt_bb_edit button button-small bt_bb_button_import" value="'+window.bt_bb_text.import+'"></div>'),b("#bt_bb_dialog .bt_bb_button_export").click(function(t){if(window.bt_bb_cb_items>0){for(var e="[",i=1;i<=window.bt_bb_cb_items;i++)e+='{"bt_bb_cb":"'+window.bt_bb_b64EncodeUnicode(encodeURIComponent(localStorage.getItem("bt_bb_cb_"+i)))+'"},';e=e.substring(0,e.length-1),e+="]",b(".bt_bb_impex_input").val(window.bt_bb_b64EncodeUnicode(encodeURIComponent(e))),b(".bt_bb_impex_input").select()}}),b("#bt_bb_dialog .bt_bb_button_import").click(function(t){b(".bt_bb_impex_input").val()&&bt_bb_cb_import(b(".bt_bb_impex_input").val())});else if("sc_mapper"==t){i=window.bt_bb_text.sc_mapper,b("#bt_bb_dialog").addClass("bt_bb_dialog_sc_mapper_container"),n="",n+='<div class="bt_bb_dialog_item bt_bb_sc_mapper_filter_container">',n+='<input type="text" class="bt_bb_filter" placeholder="'+window.bt_bb_text.filter+'">',n+="</div>",b("#bt_bb_dialog .bt_bb_dialog_header_tools").append(n);var g=function(t){var e=t;return void 0!==window.bt_bb_map_primary[t]&&(e+=" / p"),void 0!==window.bt_bb_map_secondary[t]&&(e+=" / s"),e};for(r=document.createDocumentFragment(),m=bt_bb_create_dom_element("div",[["id","bt_bb_sc_mapper_accordion"]]),w=0;w<window.bt_bb.all_sc.length;w++){if(void 0!==window.bt_bb_map[window.bt_bb.all_sc[w]]&&!1!==window.bt_bb_map[window.bt_bb.all_sc[w]].is_mapped){(k=bt_bb_create_dom_element("h3",[["class","bt_bb_sc_mapper_item"]])).innerHTML='<i class="fa fa-chevron-down"></i><span>'+g(window.bt_bb.all_sc[w])+"</span>";var y=bt_bb_create_dom_element("div",[["data-base",window.bt_bb.all_sc[w]]])}else{var k;(k=bt_bb_create_dom_element("h3",[["class","bt_bb_sc_mapper_item bt_bb_sc_mapper_unmapped"]])).innerHTML='<i class="fa fa-chevron-down"></i><span>'+window.bt_bb.all_sc[w]+"</span>",y=bt_bb_create_dom_element("div",[["data-base",window.bt_bb.all_sc[w]]])}m.appendChild(k),m.appendChild(y)}r.appendChild(m),b("#bt_bb_dialog .bt_bb_dialog_content")[0].appendChild(r),b(".bt_bb_filter").keyup(function(t){var e=b(this).val();b("#bt_bb_sc_mapper_accordion > div").removeClass("bt_bb_map_item_active"),b("#bt_bb_sc_mapper_accordion > h3").removeClass("bt_bb_map_header_active"),b("#bt_bb_sc_mapper_accordion > h3 > i").removeClass("fa-chevron-up").addClass("fa-chevron-down"),b(".bt_bb_sc_mapper_item").each(function(){var t=b(this).html().replace(/(<([^>]+)>)/gi,"");new RegExp(e,"i").test(t)?b(this).show():b(this).hide()})}),b(".bt_bb_sc_map").keydown(function(t){if(9===t.keyCode){t.preventDefault();var e=this.selectionStart,i=this.selectionEnd,a=b(this);a.val(a.val().substring(0,e)+"\t"+a.val().substring(i)),this.selectionStart=this.selectionEnd=e+1,b(this).parent().find(".bt_bb_save_mapping_button").prop("disabled",!1)}}),b("#bt_bb_sc_mapper_accordion h3").click(function(t){var e=b(this).next();if(e.hasClass("bt_bb_map_item_active"))e[0].innerHTML="",e.removeClass("bt_bb_map_item_active"),b(this).removeClass("bt_bb_map_header_active"),b(this).find("i").removeClass("fa-chevron-up").addClass("fa-chevron-down");else{var i='<input type="button" class="button button-small bt_bb_insert_mapping_template_button" value="'+window.bt_bb_text.insert_mapping+'"><input type="button" class="button button-small bt_bb_delete_mapping_button" disabled value="'+window.bt_bb_text.delete+'"><input type="button" class="button button-small bt_bb_save_mapping_button" disabled value="'+window.bt_bb_text.save+'"><span class="spinner" style="display: none;"></span><textarea class="bt_bb_sc_map" rows="10"></textarea>';e[0].innerHTML=i,autosize(b(".bt_bb_sc_map")),e.addClass("bt_bb_map_item_active"),b(this).addClass("bt_bb_map_header_active"),b(this).find("i").removeClass("fa-chevron-down").addClass("fa-chevron-up");var a=e.data("base");void 0!==window.bt_bb_map_secondary[a]&&(e.find(".bt_bb_delete_mapping_button").prop("disabled",!1),e.find(".bt_bb_insert_existing_mapping_button").click(),e.find(".bt_bb_save_mapping_button").prop("disabled",!0))}}),b("#bt_bb_sc_mapper_accordion").on("keydown",".bt_bb_sc_map",function(){b(this).parent().find(".bt_bb_save_mapping_button").prop("disabled",!1)}),b("#bt_bb_sc_mapper_accordion").on("click",".bt_bb_insert_mapping_template_button",function(t){var e=b(this).parent().find("textarea"),i=b(this).parent().data("base");if(void 0!==window.bt_bb_map[i]&&!1!==window.bt_bb_map[i].is_mapped)var a=JSON.stringify(window.bt_bb_map[i],null,"\t");else if(void 0!==window.vc_mapper&&void 0!==window.vc_mapper[i]){var n=window.vc_mapper[i];(a={}).name=void 0!==n.name?n.name:"",a.base=void 0!==n.base?n.base:"",a.description=void 0!==n.description?n.description:"",a.show_settings_on_create=void 0===n.show_settings_on_create||n.show_settings_on_create,!0===n.is_container&&("vc_row"==n.base?(a.root=!0,a.container="horizontal",a.accept={vc_column:!0},a.toggle=!0):"vc_row_inner"==n.base?(a.container="horizontal",a.accept={vc_column_inner:!0}):"vc_column"==n.base?(a.container="vertical",a.width_param="width",a.accept_all=!0,a.accept={vc_row:!1,vc_column:!1,vc_column_inner:!1}):"vc_column_inner"==n.base?(a.container="vertical",a.width_param="width",a.accept_all=!0,a.accept={vc_row:!1,vc_column:!1,vc_row_inner:!1,vc_column_inner:!1}):a.container="vertical"),a.params=[];for(var o="",_=0,r=0;r<n.params.length;r++)"textarea_html"!=n.params[r].type&&!1!==n.params[r].admin_label?(a.params[_]={},a.params[_].type="textfield","textarea"!=(o=n.params[r].type)&&"dropdown"!=o&&"attach_image"!=o&&"attach_images"!=o&&"colorpicker"!=o&&"checkbox"!=o&&"checkbox_group"!=o&&"hidden"!=o||(a.params[_].type=o),a.params[_].heading=void 0!==n.params[r].heading?n.params[r].heading:"",void 0!==n.params[r].description&&(a.params[_].heading+=" ("+n.params[r].description+")"),a.params[_].param_name=void 0!==n.params[r].param_name?n.params[r].param_name:"",a.params[_].value=void 0!==n.params[r].value?n.params[r].value:"",void 0!==n.params[r].holder&&(a.params[_].preview=!0),_++):"textarea_html"==n.params[r].type&&(a.container="vertical",a.accept={_content:!0});a=JSON.stringify(a,null,"\t")}else(a={}).name=i,a.base=i,a.description="",a.show_settings_on_create=!0,a.params=[],a.params[0]={},a.params[0].type="textfield",a.params[0].heading="Param 1",a.params[0].param_name="param_1",a.params[0].value="",a.params[0].preview=!0,a.params[1]={},a.params[1].type="dropdown",a.params[1].heading="Param 2",a.params[1].param_name="param_2",a.params[1].value={"Option 1":"value 1","Option 2":"value 2"},a.params[1].preview=!0,a=JSON.stringify(a,null,"\t");e.val(a);var s=document.createEvent("Event");s.initEvent("autosize:update",!0,!1),e[0].dispatchEvent(s),b(this).parent().find(".bt_bb_save_mapping_button").prop("disabled",!1)}),b("#bt_bb_sc_mapper_accordion").on("click",".bt_bb_save_mapping_button",function(t){var e=b(this).parent().data("base"),i=b(this);try{var a=JSON.parse(b(this).parent().find(".bt_bb_sc_map").val())}catch(t){return alert(t),!1}var n=JSON.stringify(a);i.siblings(".spinner").show(),i.siblings(".spinner").css("visibility","visible");var o={action:"bt_bb_save_mapping",base:e,map:n};b.ajax({type:"POST",url:window.bt_bb_ajax_url,data:o,async:!0,success:function(t){"ok"==t&&(i.prop("disabled",!0),i.siblings(".spinner").hide(),i.closest("div").prev(".bt_bb_sc_mapper_item").removeClass("bt_bb_sc_mapper_unmapped"),window.bt_bb_map[e]=JSON.parse(n),void 0===window.bt_bb_map_secondary[e]&&(window.bt_bb_map_secondary[e]=!0),i.closest("div").prev(".bt_bb_sc_mapper_item").find("span").html(g(e)),void 0!==window.bt_bb_map_secondary[e]&&i.parent("div").find(".bt_bb_delete_mapping_button").prop("disabled",!1),window.bt_bb_action="refresh",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event"))}})}),b("#bt_bb_sc_mapper_accordion").on("click",".bt_bb_delete_mapping_button",function(t){var e=b(this).parent().data("base"),i=b(this);i.siblings(".spinner").show(),i.siblings(".spinner").css("visibility","visible");var a={action:"bt_bb_delete_mapping",base:e};b.ajax({type:"POST",url:window.bt_bb_ajax_url,data:a,async:!0,success:function(t){"ok"==t&&(i.prop("disabled",!0),i.siblings(".spinner").hide(),void 0!==window.bt_bb_map_secondary[e]&&delete window.bt_bb_map_secondary[e],i.parent().find("textarea").val(""),void 0===window.bt_bb_map_primary[e]?(i.closest("div").prev(".bt_bb_sc_mapper_item").addClass("bt_bb_sc_mapper_unmapped"),delete window.bt_bb_map[e],window.bt_bb_action="refresh",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")):window.bt_bb_map[e]=window.bt_bb_map_primary[e],i.closest("div").prev(".bt_bb_sc_mapper_item").find("span").html(g(e)))}})})}else"custom_css"==t&&(i=window.bt_bb_text.custom_css,e+='<div class="bt_bb_dialog_item">',e+='<textarea id="bt_bb_custom_css_content" class="bt_bb_custom_css_content" rows="10">'+window.bt_bb_b64DecodeUnicode(window.bt_bb_custom_css)+"</textarea>",e+="</div>",b("#bt_bb_dialog .bt_bb_dialog_content").html(e),b("#bt_bb_dialog").append('<div class="bt_bb_dialog_inline_buttons"><input type="button" class="bt_bb_dialog_button button button-small bt_bb_button_save_custom_css" value="'+window.bt_bb_text.save+'"></div>'),void 0!==wp.codeEditor?window.bt_bb_ce=wp.codeEditor.initialize("bt_bb_custom_css_content"):b("#bt_bb_dialog").on("keydown",".bt_bb_custom_css_content",function(t){if(9===t.keyCode){t.preventDefault();var e=this.selectionStart,i=this.selectionEnd,a=b(this);a.val(a.val().substring(0,e)+"\t"+a.val().substring(i)),this.selectionStart=this.selectionEnd=e+1}}));b("#bt_bb_dialog .bt_bb_dialog_header span").html(i),b('.bt_bb_dialog_item input[type="text"]').keypress(function(t){13==t.which&&t.preventDefault()}),"edit_content"==t?(b(".bt_bb_dialog_tinymce").css("height","auto"),window.switchEditors.go("bt_bb_tinymce","tmce"),tinyMCE.get("bt_bb_tinymce").setContent(window.switchEditors.wpautop(window.bt_bb_content))):(b("#bt_bb_dialog").css("visibility","visible"),b("#bt_bb_dialog .mce-i-resize").show()),"add"!=t&&"sc_mapper"!=t||b(".bt_bb_filter").focus(),window.bt_bb_resize_dialog()},window.bt_bb_dialog.hide=function(t){window.bt_bb_dialog.is_showing=!1,window.bt_bb_dialog.is_mouseover=!1,b(".wp-picker-open").click(),b(".bt_bb_dialog_tinymce").hide(),b("#bt_bb_dialog").data("hidden",""),b("#bt_bb_dialog").removeClass("bt_bb_dialog_tinymce_container"),b("#bt_bb_dialog").removeClass("bt_bb_dialog_sc_mapper_container"),b("#bt_bb_dialog").removeClass("bt_bb_dialog_add_horizontal"),b("#bt_bb_dialog").removeClass("bt_bb_dialog_custom_css");for(var e=b("#bt_bb_dialog .bt_bb_dialog_content")[0];e.firstChild;)e.removeChild(e.firstChild);b("#bt_bb_dialog .bt_bb_dialog_header")[0].innerHTML='<div class="bt_bb_dialog_close"></div><span></span>',b("#bt_bb_dialog .bt_bb_dialog_header_tools")[0].innerHTML="",b("#bt_bb_dialog > input").remove(),b("#bt_bb_dialog > .bt_bb_dialog_inline_buttons").remove(),b("#bt_bb_dialog").css("visibility","hidden")},b(document).ready(function(){b("#bt_bb_dialog").on("click",".bt_bb_dialog_close",function(t){window.bt_bb_dialog.hide()})}),window.bt_bb_get_obj_by_id=function(t,e){for(var i=null,b=0;b<t.children.length;b++){if(e.bt_ends_with(t.children[b].key)){i=t.children[b];break}if(null!=(i=bt_bb_get_obj_by_id(t.children[b],e)))break}return i},window.bt_bb_get_param=function(t,e){if(void 0!==window.bt_bb_map[t])return window.bt_bb_map[t][e]},window.bt_bb_state_callback=function(){bt_bb_horizontal_responsive(),null!==window.bt_bb_callback_action&&bt_bb_event(window.bt_bb_callback_action)},window.bt_bb_horizontal_responsive=function(){b(".bt_bb_horizontal").each(function(){var t=b(this).width(),e=!1;b(this).find(".bt_bb_is_width").each(function(){var i=bt_bb_get_obj_by_id(window.bt_bb_state_current,b(this).data("reactid")),a=window.bt_bb_map[i.base].width_param,n=attr_to_obj(i.attr)[a];if(n=12*(n=n.split("/"))[0]/n[1],t*n/12<window.bt_bb.min_width)return e=!0,!1}),e?(b(this).find(".bt_bb_is_width").removeClass("bt_bb_width"),b(this).css("display","block")):(b(this).find(".bt_bb_is_width").addClass("bt_bb_width"),b(this).css("display","table"))})},b(window).resize(function(){bt_bb_horizontal_responsive()}),window.bt_bb_push_state=function(t){window.bt_bb_state_current=t,window.bt_bb_state.splice(window.bt_bb_state_pointer+1),window.bt_bb_state.push(JSON.stringify(t)),window.bt_bb_state_pointer=window.bt_bb_state.length-1},window.bt_bb_undo=function(){window.bt_bb_dialog.hide(),window.bt_bb_state_pointer--,window.bt_bb_state_pointer>-1?(window.bt_bb_state_current=JSON.parse(window.bt_bb_state[window.bt_bb_state_pointer]),window.bt_bb_action="update_state",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")):window.bt_bb_state_pointer++},window.bt_bb_redo=function(){window.bt_bb_dialog.hide(),window.bt_bb_state_pointer++,window.bt_bb_state_pointer<=window.bt_bb_state.length-1?(window.bt_bb_state_current=JSON.parse(window.bt_bb_state[window.bt_bb_state_pointer]),window.bt_bb_action="update_state",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")):window.bt_bb_state_pointer--},String.prototype.bt_ends_with=function(t){return-1!==this.indexOf(t,this.length-t.length)},window.bt_bb_dispatch=function(t,e){try{var i=new Event(e)}catch(t){(i=document.createEvent("Event")).initEvent(e,!1,!1)}b(t)[0].dispatchEvent(i)},b(document).ready(function(){if(b("#bt_bb").length>0&&(window.bt_bb_element_list=BTReact.render(BTReact.createElement(n,{data:window.bt_bb_data}),b("#bt_bb")[0],function(){bt_bb_horizontal_responsive(),bt_bb_resize_h(window.bt_bb_data),window.bt_bb_action="refresh_on_ready",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")})),b("body").hasClass("widgets-php")||b("body").hasClass("wp-customizer")||b("body").hasClass("nav-menus-php")){if(b(".bt_bb_iconpicker_widget_placeholder").each(function(){b(this).replaceWith(window.bt_bb_iconpicker(!1,b(this).data("icon")))}),b("body").hasClass("nav-menus-php")&&setInterval(function(){b("#menu-to-edit .bt_bb_iconpicker_widget_placeholder").each(function(){b(this).replaceWith(window.bt_bb_iconpicker(!1,b(this).data("icon")))})},100),b("body").hasClass("wp-customizer")){const e=document.getElementsByClassName("customize-control-widget_form"),i={attributes:!0},a=function(t,e){for(const e of t)"attributes"===e.type&&"class"===e.attributeName&&e.target.className.includes("expanded")&&b(".bt_bb_iconpicker_widget_placeholder").each(function(){b(this).replaceWith(window.bt_bb_iconpicker(!1,b(this).data("icon")))})},n=[];for(var t=0;t<e.length;t++)n[t]=new MutationObserver(a),n[t].observe(e[t],i);setInterval(function(){b(".customize-widgets__sidebar-section .bt_bb_iconpicker_widget_placeholder").each(function(){b(this).replaceWith(window.bt_bb_iconpicker(!1,b(this).data("icon")))})},100)}window.bt_bb_iconpicker_init("widgets"),b(document).ajaxSuccess(function(t,e,i){i.data.includes("bt_bb_iconpicker")&&b(".bt_bb_iconpicker_widget_placeholder").each(function(){b(this).replaceWith(window.bt_bb_iconpicker(!1,b(this).data("icon")))})});const e=document.getElementById("widgets-editor");if(e){const t={attributes:!0,childList:!0,subtree:!0};new MutationObserver(function(t,e){for(const e of t)"childList"==e.type&&b(".bt_bb_iconpicker_widget_placeholder").each(function(){b(this).replaceWith(window.bt_bb_iconpicker(!1,b(this).data("icon")))})}).observe(e,t)}}}),b(window).on("focus",function(){var t=localStorage.getItem("bt_bb_cb_items");bt_bb_set_number_items(null===t?0:t)})}]);