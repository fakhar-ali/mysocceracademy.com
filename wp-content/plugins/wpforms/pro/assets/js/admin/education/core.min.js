"use strict";var WPFormsEducation=window.WPFormsEducation||{};WPFormsEducation.proCore=window.WPFormsEducation.proCore||function(t,r,c){var n={init:function(){c(n.ready)},ready:function(){n.events()},events:function(){n.openModalButtonClick(),n.activateButtonClick()},openModalButtonClick:function(){c(t).on("click",".education-modal",function(t){var e=c(this);if(e.data("action")&&!["activate","install"].includes(e.data("action")))switch(t.preventDefault(),t.stopImmediatePropagation(),e.data("action")){case"upgrade":n.upgradeModal(e.data("name"),e.data("field-name"),WPFormsEducation.core.getUTMContentValue(e),e.data("license"),e.data("video"));break;case"license":n.licenseModal()}})},activateButtonClick:function(){c(".wpforms-education-toggle-plugin-btn").on("click",function(t){var e,n,o,a,i=c(this);t.preventDefault(),t.stopImmediatePropagation(),i.hasClass("inactive")||(i.addClass("inactive"),e=i.closest(".wpforms-addon-form, .wpforms-setting-row-education"),n=i.text(),o=i.data("plugin"),t=i.data("action"),a=i.data("type"),i.html(WPFormsAdmin.settings.iconSpinner+n),WPFormsAdmin.setAddonState(o,t,a,function(t){t.success?location.reload():(e.append('<div class="msg error" style="display: none">'+wpforms_admin[a+"_error"]+"</div>"),e.find(".msg").slideDown()),i.text(n),setTimeout(function(){i.removeClass("inactive"),e.find(".msg").slideUp("",function(){c(this).remove()})},5e3)}))})},upgradeModal:function(t,e,n,o,a){var i;void 0!==o&&0!==o.length||(o="pro"),c.inArray(o,["pro","elite"])<0||(i=t+" "+wpforms_education.upgrade[o].title,void 0!==e&&0<e.length&&(i=e+" "+wpforms_education.upgrade[o].title),c.alert({title:i,icon:"fa fa-lock",content:wpforms_education.upgrade[o].message.replace(/%name%/g,t),boxWidth:"550px",theme:"modern,wpforms-education",closeIcon:!0,onOpenBefore:function(){_.isEmpty(a)||this.$btnc.after('<iframe src="'+a+'" class="pro-feature-video" frameborder="0" allowfullscreen="" width="490" height="276"></iframe>'),this.$body.find(".jconfirm-content").addClass("lite-upgrade")},buttons:{confirm:{text:wpforms_education.upgrade[o].button,btnClass:"btn-confirm",keys:["enter"],action:function(){r.open(WPFormsEducation.core.getUpgradeURL(n,o),"_blank")}}}}))},licenseModal:function(){c.alert({title:!1,content:wpforms_education.license_prompt,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_education.close,btnClass:"btn-confirm",keys:["enter"]}}})}};return n}(document,window,jQuery),WPFormsEducation.proCore.init();